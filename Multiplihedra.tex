
\documentclass[twoside, 12pt]{amsart}

% Font

\usepackage[T1]{fontenc}
\usepackage[lf]{Baskervaldx} % lining figures
\usepackage[bigdelims,vvarbb]{newtxmath} % math italic letters from Nimbus Roman
\usepackage[cal=boondoxo]{mathalfa} % mathcal from STIX, unslanted a bit
\renewcommand*\oldstylenums[1]{\textosf{#1}}


\usepackage{graphicx}
\usepackage[all]{xy}
\usepackage{a4wide}
\usepackage{mathrsfs} % mathscr

\usepackage{enumitem}

\usepackage{caption}
\usepackage{subcaption}

\usepackage{multirow}
%\usepackage{color}
\usepackage[dvipsnames]{xcolor}
\usepackage[colorlinks,final,hyperindex]{hyperref}
\usepackage[noabbrev,capitalize]{cleveref}
\usepackage{tikz}
\usepackage{tikz-cd}
\tikzset{math3d/.style=
    {x= {(-0.353cm,-0.353cm)}, z={(0cm,1cm)},y={(1cm,0cm)}}}
\tikzset{JLL3d/.style=
    {x= {(0.4cm,-0.2cm)}, z={(0cm,1cm)},y={(-1cm,0cm)}}}
\tikzset{J4/.style=
   {x= {(-0.87cm,-0.5cm)}, z={(0cm,1cm)},y={(0.87cm,-0.5cm)}}}

%MARGINS

\setlength{\textwidth}{\paperwidth}
\addtolength{\textwidth}{-2.5in}
\calclayout

% COLORS

\definecolor{Chocolat}{rgb}{0.36, 0.2, 0.09}
\definecolor{BleuTresFonce}{rgb}{0.215, 0.215, 0.36}
\definecolor{RougeTresFonce}{rgb}{0.36, 0.215, 0.215}
\hypersetup{citecolor=BleuTresFonce, linkcolor=black}

%%%%%%%% ENVIRONNEMENTS 

\newtheorem{definition}{Definition}[section]
\newtheorem{proposition}[definition]{Proposition}
\newtheorem{theorem}{Theorem}
\newtheorem*{problem}{Problem}
\newtheorem{corollary}{Corollary}

\newtheorem{lemma}[definition]{Lemma}
\newtheorem{conjecture}{Conjecture}

\theoremstyle{remark}
\newtheorem{example}[definition]{\sc Example}
\newtheorem{remark}[definition]{\sc Remark}

\input{commandes_un.tex}
\input{commandes_deux.tex}

%%%%%% TITLE+AUTHOR

\title[The diagonal of the multiplihedra]{The diagonal of the multiplihedra and \\ the tensor product of $\Ainf$-functors}

\author{Guillaume Laplante-Anfossi}
\address{Laboratoire Analyse, G\'eom\'etrie et Applications, Universit\'e Paris Nord 13, Sorbonne Paris Cit\'e, CNRS, UMR 7539, 93430 Villetaneuse, France.}
\email{laplante-anfossi@math.univ-paris13.fr}

\author{Thibaut Mazuir}
\address{Sorbonne Universit\'e, Institut de Math\'ematiques de Jussieu-Paris Rive Gauche CNRS, Campus Pierre et Marie Curie, 75005 Paris, France.}
\email{thibaut.mazuir@imj-prg.fr}

\date{\today}

\subjclass[2010]{Primary 52B11; Secondary 18M70, 53D37}

\keywords{Multiplihedra, A-infinity categories, approximation of the diagonal, operads.}

\thanks{The first author was supported by the European Union's Horizon 2020 research and innovation program under the Marie Sklodowska-Curie grant agreement No 754362 \inlinegraphics{EU.png}, by the Natural Sciences and Engineering Research Council of Canada (NSERC) and by the ANR-20-CE40-0016 Higher Algebra, Geometry and Topology.}

\begin{document}

\begin{abstract}
\rouge{Réécrire à la toute fin}
The goal of this article is to define a cellular approximation to the diagonal of Forcey--Loday realizations of the multiplihedra, and to endow them with a compatible topological cellular operadic bimodule structure over the Loday realizations of the associahedra. 
This gives a model for topological and algebraic A-infinity morphisms, and an explicit formula for their tensor product.
In this way, one can consider for the first time a tensor product of A-infinity categories defined by explicit formulae, and its potential applications in symplectic topology. 
Along the way, we prove that there is no tensor product of A-infinity morphisms that is strictly compatible with their composition. 
\end{abstract}

\maketitle

\begin{figure}[h!]
\centering
\includegraphics[width=0.7\linewidth]{J4.png} 
%\caption{The polytopal subdivision of $\J_4$.}
\label{Fig5:J4}
\end{figure}

\setcounter{tocdepth}{1}
\tableofcontents

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Introduction}

\rouge{Retaper l'introduction à la toute fin}

\rouge{Corriger leftmargin partout où nécessaire}

\rouge{Décider à la fin ce qu'on met en Théorème et en Proposition}

The $n$-dimensional associahedron, a polytope whose faces are in bijection with planar trees with $n+1$ leaves, was first introduced as a topological cell complex by J. Stasheff to describe algebras whose product is associative only up to homotopy \cite{Stasheff63}.
The problem of giving polytopal realizations of these CW-complexes has a rich history \cite{CeballosZiegler12}, and the algebras that they encode, called $\mathrm{A}_\infty$-algebras, are classical objects in algebraic topology. 
They have found many applications, from iterated loop spaces \cite{May72} to Fukaya categories \cite{Seidel08}, through the interpretation of the associahedra as moduli spaces of metric trees \cite{MauWoodward10}.
Today, this notion is ubiquitous and appears in different branches of mathematics such as symplectic topology, mathematical physics, mirror symmetry, Galois cohomology or non-commutative probability.

\medskip

The $n$-dimensional multiplihedron, a polytope whose faces are in bijection with 2-colored planar trees with $n$ leaves (see \cref{def:2coloredtree}), was first introduced as a topological cell complex by J. Stasheff to describe morphisms between $\mathrm{A}_\infty$-algebras \cite{Stasheff70}.
It was only realized as a convex polytope recently, through the work of S. Forcey \cite{Forcey08}, and later S. Forcey and S. Devadoss \cite{DevadossForcey08}, F. Ardila and J. Doker \cite{AD13}, and F. Chapoton and V. Pilaud \cite{CP22}.
The family of multiplihedra was studied both in algebraic topology \cite{BoardmanVogt73} and symplectic topology \cite{MauWoodward10,Mazuir21}, through their interpretation as moduli spaces of 2-colored metric trees. 

\medskip

In this paper, we define and study a cellular approximation to the diagonal of the multiplihedron. 
The need for such an approximation comes from the general fact that the set-theoretic diagonal $\triangle_P:P\to P\times P, x\mapsto (x,x)$ of a polytope $P$ is not cellular, that is, its image is not a union of faces of $P\times P$. 
A cellular approximation of the diagonal is a cellular map $\triangle_P^{\textrm{cell}} : P \to P\times P$ which is homotopic to $\triangle_P$ and which agrees with $\triangle_P$ on the vertices of $P$.

\medskip

The Alexander--Whitney map \cite{EilenbergMacLane53} and the Serre diagonal \cite{Serre51} are cellular approximations of the diagonal of the simplices and the cubes, respectively. 
They allow one to define the cup product in cohomology.
A cellular approximation of the diagonal of the associahedra allows one to define the tensor product of two $\mathrm{A}_\infty$-algebras \cite{SaneblidzeUmble04,MarklShnider06,MTTV19}. 
Our goal here is to make this tensor product COMPLETER

\medskip

Our results can be summarized as follows.
\begin{enumerate}[leftmargin=*]
  \item We define a cellular approximation of the diagonal of the Forcey--Loday realizations of the multiplihedra (\cref{prop:OrientationVector});
  \item We endow them with a compatible topological cellular operadic bimodule structure over the Loday realizations of the associahedra (\cref{thm:MainOperad});
  \item We describe combinatorially the cellular image of the diagonal (\cref{thm:formuladiagonal});
  \item We apply the cellular chains functor to define the tensor product of $\mathrm{A}_\infty$-algebras and their categorification, known as $\mathrm{A}_\infty$-categories (\cref{prop:tensorproduct}).
\end{enumerate}


To achieve these goals, we use the general theory developed by the first author in \cite{LA21}, based on the method introduced in \cite{MTTV19}.
For this purpose, we use the extra idea that the Forcey--Loday realization of the multiplihedron, as defined in \cite{Forcey08}, can be obtained from the Ardila--Doker realization of the multiplihedron \cite{AD13} by projection.
This last realization is a generalized permutahedron, in the sense of A. Postnikov \cite{Postnikov09}, which allows us to apply the results of \cite{LA21} directly, both for the purpose of defining a cellular approximation of the diagonal, and to describe its cellular image combinatorially.

\medskip

Our methods provide us with an universal tensor product, in the sense that its formula applies to any pair of $\Ainf$-morphisms.
Let us call such a tensor product \emph{operadic}. 
Unfortunately, our tensor product does not define a functor, since it is not strictly compatible with the composition of $\Ainf$-morphisms. 
This is not a defect of our construction: in \cref{thm:nofunctorial}, we prove that there is no operadic tensor product satisfying this property. 
The proof is similar to a result of M. Markl and S. Schnider saying that there is no operadic tensor product of $\Ainf$-algebras that satisfies associativity \cite[Theorem 13]{MarklShnider06}.
Our tensor product of $\Ainf$-morphisms could still be a functor in some homotopical sense, and we examine in \cref{sec:monoidality} different perspectives regarding the possibility of endowing the category of $\Ainf$-algebras with a (homotopy) symmetric monoidal structure. 

\medskip

Our results can readily be applied to different fields, prominently to symplectic topology. 
First, the operadic bimodule structure in~(2) above was used in the work of the second author, where the structures of $\mathrm{A}_\infty$-algebras and $\mathrm{A}_\infty$-morphisms are unraveled in the context of Morse theory \cite{Mazuir21}. 
Second, our definition of a tensor product of $\mathrm{A}_\infty$-categories by explicit formulae can be used to study the product of Fukaya algebras of Lagrangians \cite{amorim-lagrangian}, and more generally the product of Fukaya categories of symplectic manifolds. 
%deformations of bordered Riemann surfaces and the work of Liu
It could also be used in the context of bordered Heegaard Floer homology \cite{LOT20}. 
These applications are sketched in more details in \cref{sec:furtherdirections}.
One could also think to applications in other areas where the multiplihedron appears, such as higher category theory \cite{ForceyQuotient08}.

\medskip

Finally, the methods of this paper can be straightfowardly extended to the "multiploperahedra", a family of polytopes which is to the operahedra of \cite{LA21} what the multiplihedra are to the associahedra. 
They belong to both the families of graph-multiplihedra \cite{DevadossForcey08} and nestomultiplihedra \cite{AD13}.  
Together with the results of \cite{LA21}, one would obtain a tensor product of $\infty$-morphisms between homotopy operads, defined by explicit formulae. 

\subsection*{Layout} 
We define the realizations of the multiplihedra we will work with in \cref{sec:I}. 
We define a cellular approximation of their diagonal and endow them with an operadic bimodule structure over the associahedra in \cref{sec:II}.
We describe explicitly the image of our diagonal combinatorially, define the tensor product of $\mathrm{A}_\infty$-morphisms, and sketch applications to symplectic topology in \cref{sec:III}. 

\subsection*{Conventions} We use the conventions and notations of \cite{Ziegler95} for convex polytopes and the ones of \cite{LodayVallette12} for operads. We denote by $[n]\coloneqq \{1,\ldots,n\}$ and by $\{ e_i\}_{i \in [n]}$ the standard basis of $\RR^n$.

\subsection*{Acknowledgements} 
We would like to thank Bruno Vallette for numerous discussions and for his careful reading of the manuscript, and Eric Hoffbeck for his comments on an earlier version.
We are indebted to Lino Amorim and Robert Lipshitz, for explaining to us their work and for their detailed insights about possible applications of our results in symplectic topology.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Realizations of the multiplihedra} 
\label{sec:I}

Drawing from the work of S. Forcey in \cite{Forcey08}, we define weighted Forcey--Loday realizations of the multiplihedra and describe their general properties using the methods of \cite{MTTV19}.
We then show how they can be recovered from the Ardila--Doker realizations of the multiplihedra.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{2-colored trees and multiplihedra}

\subsubsection{2-colored trees}

We consider in this section \textit{planar rooted trees}, which we simply abbreviate as \textit{trees}. The term \emph{edge} refers to both internal and external edges. The external edges will sometimes be called leaves. 

\begin{definition}[Cut]
A \emph{cut} of a tree is a subset of edges or vertices which contains precisely one edge or vertex in each non-self crossing path from an incoming edge to the root.
\end{definition}

\noindent A cut divides a tree into an upper part that we color in blue and a lower part that we color in red. The edges and vertices of the cut are moreover represented by drawing a black line over them. See Figure \ref{Fig1:2ColTree} for an example. 

\begin{definition}[2-colored tree] \label{def:2coloredtree}
A \emph{2-colored tree} is a tree together with a cut. We call \emph{2-colored maximal tree} a 2-colored binary tree whose cut is made of edges only. 
\end{definition}
\noindent We denote by $\CT{n}$ (resp. $\CMT{n}$) the set of 2-colored trees (resp. 2-colored maximal trees) with $n$ leaves, for $n\geq 1$. 

\begin{figure}[h]
\[\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.7,xscale=1]
%\draw[help lines] (-3,-1) grid (4,3);
%TOP
\draw[very thick, MidnightBlue] (-2.5,3.5)--(-2,2.5);
\draw[very thick, MidnightBlue] (-1.5,3.5)--(-2,2.5);
\draw[very thick, MidnightBlue] (-2,2.5) -- (-1.75,2);
\draw[very thick, MidnightBlue] (-1.25, 2) -- (-1,2.5);
\draw[very thick, MidnightBlue] (-0.5,2.5) -- (0,1.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0,2.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0.5,2.5);
\draw[very thick, MidnightBlue] (1,1)--(1.5,1.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(1,2.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(2,2.5);
\draw[very thick, MidnightBlue] (2,2.5)--(1.5,3.5);
\draw[very thick, MidnightBlue] (2,2.5)--(2,3.5);
\draw[very thick, MidnightBlue] (2,2.5)--(2.5,3.5);
%BOT
\draw[very thick, BrickRed] (0,-1)--(0, 1.5); 
\draw[very thick, BrickRed] (0,0)--(-1.5,1.5);
\draw[very thick, BrickRed] (-1.5,1.5)--(-1.75, 2); 
\draw[very thick, BrickRed] (-1.5,1.5)--(-1.25, 2); 
\draw[very thick, BrickRed] (0,0)--(1, 1);
% Frontier
\draw (-2,2) to (-1,2); 
\draw (-0.25,1.5)-- (0.25, 1.5) ; 
\draw (0.75,1) to (1.25,1);
\end{tikzpicture}}}\]
\caption{An example of a 2-colored tree.}
\label{Fig1:2ColTree}
\end{figure}

\begin{definition}[Face order]\leavevmode
The \emph{face order} $s\subset t$ on 2-colored trees is defined as follows: a 2-colored tree $s$ is less than a 2-colored tree $t$ if $t$ can be obtained from $s$ by a sequence of contractions of monochrome edges or moves of the cut from an edge to an adjacent vertex.

\begin{figure}[h]
\[\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.7,xscale=1]
%TOP
\draw[very thick, MidnightBlue] (-2.5,3.5)--(-2,2.5);
\draw[very thick, MidnightBlue] (-1.5,3.5)--(-2,2.5);
\draw[very thick, MidnightBlue] (-2,2.5) -- (-1.75,2);
\draw[very thick, MidnightBlue] (-1.25, 2) -- (-1,2.5);
\draw[very thick, MidnightBlue] (-0.5,2.5) -- (0,1.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0,2.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0.5,2.5);
\draw[very thick, MidnightBlue] (1,1)--(1.5,1.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(1,2.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(2,2.5);
\draw[very thick, MidnightBlue] (2,2.5)--(1.5,3.5);
\draw[very thick, MidnightBlue] (2,2.5)--(2,3.5);
\draw[very thick, MidnightBlue] (2,2.5)--(2.5,3.5);
%BOT
\draw[very thick, BrickRed] (0,-1)--(0, 1.5); 
\draw[very thick, BrickRed] (0,0)--(-1.5,1.5);
\draw[very thick, BrickRed] (-1.5,1.5)--(-1.75, 2); 
\draw[very thick, BrickRed] (-1.5,1.5)--(-1.25, 2); 
\draw[very thick, BrickRed] (0,0)--(1, 1);
% Frontier
\draw (-2,2) to (-1,2); 
\draw (-0.25,1.5)-- (0.25, 1.5) ; 
\draw (0.75,1) to (1.25,1);
\end{tikzpicture}}}
\quad \subset \quad
\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.7,xscale=1]
%TOP
\draw[very thick, MidnightBlue] (-1.5,1.5)--(-1.5,2.5);
\draw[very thick, MidnightBlue] (-2,2.5) -- (-1.75,2);
\draw[very thick, MidnightBlue] (-1.25, 2) -- (-1,2.5);
\draw[very thick, MidnightBlue] (-0.5,2.5) -- (0,1.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0,2.5);
\draw[very thick, MidnightBlue] (0,1.5)--(0.5,2.5);
\draw[very thick, MidnightBlue] (1,1)--(1.5,1.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(1,2.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(1.33,2.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(1.66,2.5);
\draw[very thick, MidnightBlue] (1.5,1.5)--(2,2.5);
\draw[very thick, MidnightBlue] (-1.5,1.5)--(-1.75, 2); 
\draw[very thick, MidnightBlue] (-1.5,1.5)--(-1.25, 2); 
%BOT
\draw[very thick, BrickRed] (0,-1)--(0, 1.5); 
\draw[very thick, BrickRed] (0,0)--(-1.5,1.5);
\draw[very thick, BrickRed] (0,0)--(1, 1);
% Frontier
\draw (-1.75,1.5) to (-1.25,1.5); 
\draw (-0.25,1.5) to (0.25,1.5); 
\draw (0.75,1) to (1.25,1);
\end{tikzpicture}}}
\]
\caption{An example of the face order $s\subset t$.}
\label{Fig2:InclusionOrder}
\end{figure}

\end{definition}


\begin{definition}[Tamari-type order]\leavevmode
The \emph{Tamari-type order} $s<t$ on  2-colored maximal trees is generated by the following three  covering relations: 
\[
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, MidnightBlue] (0,-0.5)--(0,0) -- (-2,2)--(-2,2.5);
\draw[very thick, MidnightBlue] (-1,1)--(0,2)--(0,2.5) ;
\draw[very thick, MidnightBlue] (0,0)--(1,1)--(1,2.5) ;
%
\draw[very thick, BrickRed] (0,-0.5)--(0,-1) ;
%
\draw (-0.5,-0.5) --(0.5, -0.5);
%
\draw (-2,2.5) node[above] {$t_1$}; 
\draw (0,2.5) node[above] {$t_2$}; 
\draw (1,2.5) node[above] {$t_3$}; 
\draw (0,-1) node[below] {$t_4$}; 
\end{tikzpicture}}}}
\prec
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, MidnightBlue] (0,-0.5)--(0,0) -- (2,2)--(2,2.5);
\draw[very thick, MidnightBlue] (1,1)--(0,2)--(0,2.5) ;
\draw[very thick, MidnightBlue] (0,0)--(-1,1)--(-1,2.5) ;
%
\draw[very thick, BrickRed] (0,-0.5)--(0,-1) ;
%
\draw (-0.5,-0.5) --(0.5, -0.5);
%
\draw (2,2.5) node[above] {$t_3$}; 
\draw (0,2.5) node[above] {$t_2$}; 
\draw (-1,2.5) node[above] {$t_1$}; 
\draw (0,-1) node[below] {$t_4$}; 
\end{tikzpicture}}}}\ , \quad 
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, MidnightBlue] (-2, 2.5)--(-2, 3) ;
\draw[very thick, MidnightBlue] (0, 2.5)--(0, 3) ;
\draw[very thick, MidnightBlue] (1, 2.5)--(1, 3) ;
%
\draw[very thick, BrickRed] (0,-0.5)--(0,0) -- (-2,2)--(-2,2.5);
\draw[very thick, BrickRed] (-1,1)--(0,2)--(0,2.5) ;
\draw[very thick, BrickRed] (0,0)--(1,1)--(1,2.5) ;
%
\draw (-2.5,2.5) --(1.5, 2.5);
%
\draw (-2,3) node[above] {$t_1$}; 
\draw (0,3) node[above] {$t_2$}; 
\draw (1,3) node[above] {$t_3$}; 
\draw (0,-0.5) node[below] {$t_4$}; 
\end{tikzpicture}}}}
\prec
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, BrickRed] (0,-0.5)--(0,0) -- (2,2)--(2,2.5);
\draw[very thick, BrickRed] (1,1)--(0,2)--(0,2.5) ;
\draw[very thick, BrickRed] (0,0)--(-1,1)--(-1,2.5) ;
%
\draw[very thick, MidnightBlue] (2,2.5)--(2,3) ;
\draw[very thick, MidnightBlue] (0,2.5)--(0,3) ;
\draw[very thick, MidnightBlue] (-1,2.5)--(-1,3) ;
%
\draw (-1.5,2.5) --(2.5, 2.5);
%
\draw (2,3) node[above] {$t_3$}; 
\draw (0,3) node[above] {$t_2$}; 
\draw (-1,3) node[above] {$t_1$}; 
\draw (0,-0.5) node[below] {$t_4$}; 
\end{tikzpicture}}}}\ , \quad 
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, MidnightBlue] (0,0.5)--(0,1);
\draw[very thick, MidnightBlue] (0,1)--(-0.5,1.5)--(-0.5,2);
\draw[very thick, MidnightBlue] (0,1)--(0.5,1.5)--(0.5,2);
% 
\draw[very thick, BrickRed] (0,0)--(0,0.5);
\draw (-0.5,0.5) --(0.5, 0.5);
%
\draw (-0.5,2) node[above] {$t_1$}; 
\draw (0.5,2) node[above] {$t_2$}; 
\draw (0,0) node[below] {$t_3$}; 
\end{tikzpicture}}}}
\prec
{\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.5,xscale=0.5]
\draw[very thick, MidnightBlue] (-0.5,2)--(-0.5,2.5);
\draw[very thick, MidnightBlue] (0.5,2)--(0.5,2.5);
%
\draw[very thick, BrickRed] (0,0.5)--(0,1);
\draw[very thick, BrickRed] (0,1)--(-0.5,1.5)--(-0.5,2);
\draw[very thick, BrickRed] (0,1)--(0.5,1.5)--(0.5,2);
% 
\draw (-1,2) --(1, 2);
%
\draw (-0.5,2.5) node[above] {$t_1$}; 
\draw (0.5,2.5) node[above] {$t_2$}; 
\draw (0,0.5) node[below] {$t_3$}; 
\end{tikzpicture}}}}
\ ,\]
where $t_i$, for $1\leq i\leq 4$, are 2-colored maximal trees, of respective colors each time. 
\end{definition}

\begin{figure}[h]
\[\vcenter{\hbox{
\begin{tikzcd}[column sep=0.5cm, row sep=0.5cm]
& \TreeLa \arrow[ld, thin] \arrow[rr, thin]&& \TreeRa \arrow[rd, thin]& \\
\TreeLb \arrow[rd, thin] &&&& \TreeRb \arrow[ld, thin] \\
& \TreeLc \arrow[rr, thin] && \TreeRc &
\end{tikzcd}
}}\]
\caption{The Tamari-type poset $(\CMT{3}, <)$ with minimum at the top.}
\label{Fig3:Tam}
\end{figure}

\noindent We add a minimum element $\emptyset_n$ to the poset of 2-colored trees $(\CT{n}, \subset)$. 

\begin{proposition}
The posets $(\CT{n}, \subset)$ and $(\CMT{n}, <)$ are lattices. 
\end{proposition}

\begin{proof}
The poset of 2-colored trees was proven in \cite{Forcey08} to be isomorphic to the face lattice of a polytope, the multiplihedron; see Point~(3) of \cref{prop:PropertiesKLoday}. 
The Hasse diagram of the poset of 2-colored maximal trees was proven to be isomorphic to the oriented 1-skeleton of the multiplihedron, and also to be the Hasse diagram of a lattice in \cite[Proposition 117]{CP22}.
\end{proof}

\begin{remark}
F. Chapoton and V. Pilaud introduce in \cite{CP22} the shuffle of two generalized permutahedra (see \cref{sec:generalizedpermutahedra} for definition and examples).
The fact that the poset $(\CMT{n}, <)$ is a lattice follows from the fact that the multiplihedron arises as the shuffle of the associahedron and the interval, which both have the lattice property, and that the shuffle operation preserves the lattice property in this case \cite[Corollary 95]{CP22}. 
\end{remark}

\subsubsection{Grafting of trees} \label{sss:grafting}

We will denote the operation of grafting a planar tree $v$ at the $i^{\rm th}$-leaf of a 2-colored tree $u$ by $u \circ_i v$. 
We will also denote the grafting of a level of 2-colored trees $v_1, \ldots, v_k$ on the $k$ leaves of a planar tree by $u(v_1, \ldots, v_k)$. 
We denote by $c^{\T}_n$ and by $c^{\B}_n$ the corollae with $n$ leaves fully painted with the upper and the lower color respectively; we denote by $c_n$ the corolla with $n$ leaves with frontier color at the vertex. 
It is straightforward to see that these two grafting operations on corollae generate all the 2-colored trees of codimension $1$: we call $(\B)$, for ``bottom'', the first type of 2-colored trees $c_{p+1+r}\circ_{p+1} c^\T_q$, with $p+q+r=n$ and $2\leq q\leq n$, and we call  $(\T)$, for ``top'', the second type of 2-colored trees $c^\B_k(c_1, \ldots, c_k)$, with $i_1+\cdots+i_k=n$, $i_1, \ldots,i_k\geq 1$, and $k\geq 2$.

\begin{figure}[h]
\[\vcenter{\hbox{
\begin{tikzpicture}[yscale=0.7,xscale=1]
%TOP
\draw[very thick, MidnightBlue] (0.5,1)--(0,2);
\draw[very thick, MidnightBlue] (0.5,1)--(0.5,2);
\draw[very thick, MidnightBlue] (0.5,1)--(1,2);
\draw[very thick, MidnightBlue] (0,0)--(0.5, 1); 
\draw[very thick, MidnightBlue] (0,0)--(-0.5, 1); 
\draw[very thick, MidnightBlue] (0,0)--(-1.5,1);
\draw[very thick, MidnightBlue] (0,0)--(1.5, 1);
%BOT
\draw[very thick, BrickRed] (0,-1)--(0, 0); 
% Frontier
\draw (-0.25,0) to (0.25,0); 
\draw (0,-2) node {type $(\B)$};
\end{tikzpicture}}}\qquad \vcenter{\hbox{
\begin{tikzpicture}[yscale=0.7,xscale=1]
%TOP
\draw[very thick, MidnightBlue] (-1.5,1)--(-1.5,2);
\draw[very thick, MidnightBlue] (-2,2) -- (-1.75,1.5);
\draw[very thick, MidnightBlue] (-1.25, 1.5) -- (-1,2);
\draw[very thick, MidnightBlue] (-0.5,2) -- (0,1);
\draw[very thick, MidnightBlue] (0,1)--(0.5,2);
\draw[very thick, MidnightBlue] (1.5,1)--(1,2);
\draw[very thick, MidnightBlue] (1.5,1)--(1.33,2);
\draw[very thick, MidnightBlue] (1.5,1)--(1.66,2);
\draw[very thick, MidnightBlue] (1.5,1)--(2,2);
\draw[very thick, MidnightBlue] (-1.5,1)--(-1.75, 1.5); 
\draw[very thick, MidnightBlue] (-1.5,1)--(-1.25, 1.5); 
%BOT
\draw[very thick, BrickRed] (0,-1)--(0, 1); 
\draw[very thick, BrickRed] (0,0)--(-1.5,1);
\draw[very thick, BrickRed] (0,0)--(1.5, 1);
% Frontier
\draw (-1.75,1) to (-1.25,1); 
\draw (-0.25,1) to (0.25,1); 
\draw (1.25,1) to (1.75,1);
\draw (0,-2) node {type $(\T)$};
\end{tikzpicture}}}\]
\caption{Examples of 2-colored trees of type $(\B)$ and $(\T)$ respectively. }
\label{Fig5:FacetsColoredTrees}
\end{figure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Multiplihedra} \label{sec:multiplihedra}

\begin{definition}[Multiplihedra]
For any $n\geq 1$, an \emph{$(n-1)$-dimensional multiplihedron} is a polytope of dimension $(n-1)$ whose face lattice is isomorphic to the lattice 
$(\CT{n}, \subset)$
of 2-colored trees with $n$ leaves. 
\end{definition}

\begin{figure}[h]
\[
\begin{tikzpicture}[xscale=0.8,yscale=1]
\draw[thick] (-2,2)--(2,2)--(4,0)--(2,-2)--(-2,-2)--(-4,0)--cycle;
\draw[fill, opacity=0.12] (-2,2)--(2,2)--(4,0)--(2,-2)--(-2,-2)--(-4,0)--cycle;
\draw (-2,2) node[above left] {$\TreeLa$};
\draw (2,2) node[above right] {$\TreeRa$};
\draw (-2,-2) node[below left] {$\TreeLc$};
\draw (2,-2) node[below right] {$\TreeRc$};
\draw (-4.2,0) node[left] {$\TreeLb$};
\draw (4,0) node[right] {$\TreeRb$};
\draw (-3,1) node[above left] {$\TreeLab$};
\draw (-3,-1) node[below left] {$\TreeLbc$};
\draw (3,1) node[above right] {$\TreeRab$};
\draw (3,-1) node[below right] {$\TreeRbc$};
\draw (0,2.1) node[above] {$\TreeCa$};
\draw (0,-2.1) node[below] {$\TreeCb$};
\draw (0,0) node  {$\TreeCab$};
\end{tikzpicture}
\]
\caption{A 2-dimensional multiplihedron.}
\label{Fig4:J3}
\end{figure}

The dimension of a face labeled by a 2-colored tree is given by the sum of the degrees of its vertices defined by 
\[
\left|{\vcenter{\hbox{
\begin{tikzpicture}[scale=0.5]
\draw[very thick, MidnightBlue] (0,-0.5) -- (0,1.5);
\draw[very thick, MidnightBlue] (0,0) -- (-1,1)--(-1,1.5);
\draw[very thick, MidnightBlue] (0,0) -- (1,1)--(1,1.5);
\draw (1,1.5) node[above] {$k$};
\draw (-1,1.5) node[above] {$1$};
\draw (0,1.5) node[above] {$\cdots$};
\end{tikzpicture}}}}\right|=k-2\ , \quad 
\left|{\vcenter{\hbox{
\begin{tikzpicture}[scale=0.5]
\draw[very thick, BrickRed] (0,-0.5) -- (0,1.5);
\draw[very thick, BrickRed] (0,0) -- (-1,1)--(-1,1.5);
\draw[very thick, BrickRed] (0,0) -- (1,1)--(1,1.5);
\draw (1,1.5) node[above] {$k$};
\draw (-1,1.5) node[above] {$1$};
\draw (0,1.5) node[above] {$\cdots$};
\end{tikzpicture}}}}\right|=k-2\ , \quad 
\left|{\vcenter{\hbox{
\begin{tikzpicture}[scale=0.5]
\draw[very thick, MidnightBlue] (0,0) -- (0,1.5);
\draw[very thick, MidnightBlue] (0,0) -- (-1,1)--(-1,1.5);
\draw[very thick, MidnightBlue] (0,0) -- (1,1)--(1,1.5);
\draw[very thick, BrickRed] (0,0) -- (0,-0.5);
\draw (-0.5,0)--(0.5,0);
\draw (1,1.5) node[above] {$k$};
\draw (-1,1.5) node[above] {$1$};
\draw (0,1.5) node[above] {$\cdots$};
\end{tikzpicture}}}}\right|=k-1\ .
\]
The codimension of a 2-colored tree is then in particular equal to the number of blue vertices and red vertices. 
In the example of the 2-colored tree depicted on \cref{Fig1:2ColTree}, the dimension is equal to 4 and the codimension is equal to 5. 
As proven in \cite[Proposition 117]{CP22}, the oriented $1$-skeleton of a multiplihedron is the Hasse diagram of the Tamari-type poset. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Forcey--Loday realizations of the multiplihedra}
Jean-Louis Loday gave in \cite{Loday04a} realizations of the associahedra in the form of polytopes with integer coordinates. 
Stefan Forcey generalized this construction in \cite{Forcey08} in order to give similar realizations for the multiplihedra. 
In this subsection we adapt the ideas of \cite{MTTV19} to the multiplihedra of Forcey and define realizations of the multiplihedra associated to any weight $\omega$. We refer to them as \emph{Forcey--Loday realizations} of the multiplihedra.

\begin{definition}[Weighted 2-colored maximal tree]
A \emph{weighted 2-colored maximal tree} is a pair $(t, \omega)$ made up of a 2-colored maximal tree $t\in \CMT{n}$ with $n$ leaves with a weight $\omega= (\omega_1, \ldots, \omega_n) \in \RR_{>0}^n$. 
We call $\omega$ the \emph{weight} and $n$ the \emph{length} of the weight $\omega$.
\end{definition}

Let $(t, \omega)$ be a weighted 2-colored maximal tree with $n$ leaves. We order its $n-1$ vertices from left to right. At the $i^{\rm th}$ vertex, we consider the sum $\alpha_i$ of the weights of the leaves supported by its left input and 
 the sum $\beta_i$ of the weights of the leaves supported by its right input. 
If the $i^{\rm th}$ vertex is colored by the upper color, we consider the product $\alpha_i\beta_i$ and if the 
$i^{\rm th}$ vertex is colored by the lower color, we consider the product $2\alpha_i\beta_i$.
The associated string produces a point with integer coordinates :
\[M(t, \omega) \coloneqq \big(2\alpha_1\beta_1, \alpha_2\beta_2, \ldots, 2\alpha_{n-1}\beta_{n-1}\big)\in 
\RR_{>0}^{n-1}\ . \]
\begin{figure}[h!]
\[
\vcenter{\hbox{\begin{tikzpicture}[scale=1.5]
\draw[thick] (1,0)--(2,0);
\draw (1,0) node[above] {$\TreeBa$};
\draw (1.95,0) node[above] {$\TreeBb$};
\draw (1,0) node[below] {$1$};
\draw (2,0) node[below] {$2$};
\end{tikzpicture}}} \qquad \qquad
\vcenter{\hbox{
\begin{tikzpicture}[scale=1.5]
\draw (1,-0.05)--(1,0.05);
\draw (2,-0.05)--(2,0.05);
\draw (3,-0.05)--(3,0.05);
\draw (4,-0.05)--(4,0.05);
\draw (-0.05, 1)--(0.05,1);
\draw (-0.05, 2)--(0.05,2);
\draw (-0.05, 3)--(0.05,3);
\draw (-0.05, 4)--(0.05,4);
\draw[->] (0,0)--(5,0);
\draw[->] (0,0)--(0,5);
\draw (1,0) node[below] {$1$};
\draw (2,0) node[below] {$2$};
\draw (3,0) node[below] {$3$};
\draw (4,0) node[below] {$4$};
\draw (0,1) node[left] {$1$};
\draw (0,2) node[left] {$2$};
\draw (0,3) node[left] {$3$};
\draw (0,4) node[left] {$4$};
\draw[thick] (1,2)--(1,4)--(2,4)--(4,2)--(4,1)--(2,1)--cycle;
\draw (1,2) node[below left] {$\TreeLa$};
\draw (2,1) node[below left] {$\TreeRa$};
\draw (2,4) node[above right] {$\TreeLc$};
\draw (4,2) node[above right] {$\TreeRc$};
\draw (1,4) node[above left] {$\TreeLb$};
\draw (4,1) node[below right] {$\TreeRb$};
\end{tikzpicture}}}
\]
\caption{Examples of points associated to 2-colored maximal trees, with trivial weight.}
\end{figure}


\begin{definition}[Forcey--Loday Realization] \label{def:ForceyLoday}
 The \emph{Forcey--Loday realization of weight $\omega$} of the $(n-1)$-dimensional multiplihedron is the  polytope
\[\J_\omega \coloneqq \conv \big\{M(t, \omega)\mid t\in \CMT{n} \big\}\subset \RR^{n-1}\ .\]
\end{definition}

The Forcey--Loday realization associated to the standard weight $(1, \ldots, 1)$ will simply be denoted by $\J_n$.
By convention, we define the polytope $\J_\omega$ with weight $\omega=(\omega_1)$ of length $1$  to be made up of one point labeled by the 2-colored  tree $\iBT\coloneq \TreeIab$\ .
\begin{figure}[h]
\[
\begin{tikzpicture}[scale=0.8, J4]
\draw[->] (4,-4,-3)--(5,-4,-3) node[below left] {$x_1$};
\draw[->] (4,-4,-3)--(4,-3, -3) node[below right] {$x_2$};
\draw[->] (4,-4,-3)--(4,-4,-2) node[above] {$x_3$};

\draw[thick, opacity=0.2] (1,4,1)--(1,2,3)--(2,1,3)--(3,1,2)--(3,2,1)--cycle;
\draw[thick] (2,8,2)--(2,4,6)--(4,2,6)--(6,2,4)--(6,4,2)--cycle;
\draw[thick] (4,1,6)--(6,1,4)--(6,1,2)--(6,2,1)--(6,4,1)--(2,8,1)--(1,8,1)--(1,8,2)--(1,4,6)--(1,2,6)--(2,1,6)--cycle;
\draw[thick] (4,1,6)--(4,2,6);
\draw[thick] (6,1,4)--(6,2,4);
\draw[thick, opacity=0.2] (6,1,2)--(3,1,2);
\draw[thick, opacity=0.2] (6,2,1)--(3,2,1);
\draw[thick] (6,4,1)--(6,4,2);
\draw[thick] (2,8,1)--(2,8,2)--(1,8,2);
\draw[thick, opacity=0.2] (1,8,1)--(1,4,1);
\draw[thick] (1,4,6)--(2,4,6);
\draw[thick, opacity=0.2] (1,2,6)--(1,2,3);
\draw[thick, opacity=0.2] (2,1,6)--(2,1,3);

\draw[fill, opacity=0.12] (2,8,2)--(2,4,6)--(4,2,6)--(6,2,4)--(6,4,2)--cycle;
\draw[fill, opacity=0.18] (6,2,4)--(6,1,4)--(6,1,2)--(6,2,1)--(6,4,1)--(6,4,2)--cycle;
\draw[fill, opacity=0.18] (6,2,4)--(6,1,4)--(4,1,6)--(4,2,6)--cycle;
\draw[fill, opacity=0.18] (4,1,6)--(4,2,6)--(2,4,6)--(1,4,6)--(1,2,6)--(2,1,6)--cycle;
\draw[fill, opacity=0.06] (2,8,2)--(6,4,2)--(6,4,1)--(2,8,1)--cycle;
\draw[fill, opacity=0.06] (2,8,1)--(2,8,2)--(1,8,2)--(1,8,1)--cycle;
\draw[fill, opacity=0.06] (2,8,2)--(1,8,2)--(1,4,6)--(2,4,6)--cycle;
\end{tikzpicture}
\]
\caption{The Forcey--Loday realization of the multiplihedron $\J_4$%, see \cref{prop:OrientationVector} for the definition of the $\vec e_i$.}
}
\end{figure}


\begin{proposition}\label{prop:PropertiesKLoday}
The Forcey--Loday realization $\J_\omega$  satisfies the following properties. 
\begin{enumerate}[leftmargin=*]
\item Let $t\in \CMT{n}$ be a 2-colored maximal tree. 

\noindent For $p+q+r=n$, with $2\leq q\leq n$, the point $M(t, \omega)$ is contained in the half-space defined by the inequality
\begin{equation}\label{Eq:B}\tag{$\B$}
x_{p+1}+\cdots+x_{p+q-1}\geq \sum_{p+1\leq a<b\leq p+q} \omega_a \omega_b\ , 
\end{equation}
with equality if and only if the 2-colored maximal tree $t$ can be decomposed as $t=u\circ_{p+1} v$, where $u\in\CMT{p+1+r}$ and $v\in \Tam{q}$. 

\noindent For $i_1+\cdots+i_k=n$, with $i_1, \ldots,i_k\geq 1$ and $k\geq 2$, the point $M(t, \omega)$ is contained in the half-space defined by the inequality
\begin{equation}\label{Eq:T}\tag{$\T$}
x_{i_1}+x_{i_1+i_2}+\cdots+x_{i_1+\cdots+i_{k-1}}\leq 
2\sum_{1\leq j<l\leq k} \omega_{I_j} \omega_{I_l}\ , 
\end{equation}
where $I_j=[i_1+\cdots +i_{j-1}+1, \ldots, i_1+\cdots +i_j]$ and $\omega_{I_j}\coloneq\sum_{a\in I_j} \omega_a$, with equality if and only if the 2-colored maximal tree $t$ can be decomposed as $t=u(v_1, \ldots, v_k)$, where $u\in\Tam{k}$ and $v_j\in \CMT{i_j}$, for $1\leq j\leq k$. 


\item The polytope $\J_\omega$ is the intersection of the half-spaces defined in  \emph{(1)}. 

\item The face lattice $(\La(\J_\omega), \subset)$ is isomorphic to the lattice $(\CT{n}, \subset)$ of 2-colored trees with $n$ leaves.

\item Any face of a Forcey--Loday realization of a multiplihedron is isomorphic to a product of a Loday realization of an associahedron with possibly many Forcey--Loday realizations of multiplihedra, via a permutation of coordinates. 
\end{enumerate}
\end{proposition}

\begin{proof}

Points~(1)--(3) were proved in \cite{Forcey08}.  
We prove Point~(4) by induction on $n$. 
It clearly holds true for $n=1$. Let us suppose that it holds true up to $n-1$ and let us prove it for the polytopes $\J_\omega$, for any weight $\omega$ of length $n$.
We examine first facets. 
In the case of a facet of type $(\B)$ associated to $p+q+r=n$ with $2\leq q \leq n-1$, we consider the following two weights 
\[
\overline{\omega}\coloneqq (\omega_1, \ldots, \omega_{p}, \omega_{p+1}+\cdots+\omega_{p+q}, \omega_{p+q+1}, \ldots,  \omega_{n})
\quad \text{and} \quad 
\widetilde{\omega}\coloneqq (\omega_{p+1}, \ldots, \omega_{p+q})
\]
and the isomorphism 
\begin{align*}
\begin{array}{rccc}
\Theta_{p,q,r}\  : &  \RR^{p+r}\times \RR^{q-1} &\xrightarrow{\cong} &\RR^{n-1}\\
&(x_1, \ldots, x_{p+r})\times (y_1, \ldots, y_{q-1}) & \mapsto& 
(x_1, \ldots, x_{p} , y_1, \ldots, y_{q-1}, x_{p+1}, \ldots, x_{p+r})\ .
\end{array}
\end{align*}
The image of the vertices of $\J_{\overline{\omega}}\times \K_{\widetilde{\omega}}$ are sent to the vertices of the facet of $\J_\omega$
labelled by the 2-colored tree $c_{p+1+r}\circ_{p+1} c^\T_q$. 
In other words, the permutation of coordinates $\Theta$ sends bijectively $\J_{\overline{\omega}}\times \K_{\widetilde{\omega}}$ to $\J_\omega$. 
Similarly, in the case of a facet of type $(\T)$ associated to $i_1+\cdots+i_k=n$ with 
$i_1, \ldots,i_k\geq 1$ and $k\geq 2$, 
 we consider the following weights 
%
\[
\overline{\omega}\coloneqq \big(\sqrt{2}\omega_{I_1}, \ldots, \sqrt{2}\omega_{I_k}\big)
\quad \text{and} \quad 
\widetilde{\omega}_j\coloneqq (\omega_{i_1+\cdots+i_{j-1}+1}, \ldots, \omega_{i_1+\cdots+i_{j-1}+i_j}), \ \text{for}\ 1\leq j\leq k, 
\]
and the isomorphism 
\begin{align*}
\begin{array}{rccc}
\Theta^{i_1, \ldots, i_k}\  : &  \RR^{k-1}\times \RR^{i_1-1}\times \cdots \times \RR^{i_k-1} &\xrightarrow{\cong} &\RR^{n-1}
\end{array}
\end{align*}
which sends 
\[(x_1, \ldots, x_{k-1})\times (y_1^1, \ldots, y^1_{i_1-1})\times \cdots 
\times (y_1^k, \ldots, y^k_{i_k-1})\]
to 
\[(
y^1_1,\ldots, y^1_{i_1-1}, x_1, y^2_1, \ldots, y^2_{i_2-1}, x_2, y^3_1, \ldots, x_{k-1}, y^k_1, \ldots, y^k_{i_k-1}
)\ .\]
The image of the vertices of 
$\K_{\overline{\omega}}\times \J_{\widetilde{\omega}_1}\times \cdots \times \J_{\widetilde{\omega}_k}$ are sent to the vertices of the facet of $\J_\omega$
labelled by the 2-colored tree $c^\B_k(c_1, \ldots, c_k)$. In other words, the permutation of coordinates $\Theta$ sends bijectively $\K_{\overline{\omega}}\times \J_{\widetilde{\omega}_1}\times \cdots \times \J_{\widetilde{\omega}_k}$ to $\J_\omega$. 

We can finally conclude the proof with these decompositions of facets of $\J_\omega$, the induction hypothesis, and \cite[Proposition~1, Point~(5)]{MTTV19}.
\end{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Ardila-Doker realizations of the multiplihedra} 
\label{sec:generalizedpermutahedra}

\begin{definition}[Permutahedron] The \emph{$(n-1)$-dimensional permutahedron} is the polytope in $\RR^n$ equivalently defined as:
\begin{itemize}[leftmargin=*]
  \item the convex hull of the points $\displaystyle \sum_{i=1}^{n}i\vec e_{\sigma(i)}$ for all permutations $\sigma \in \mathbb{S}_n$, or
  \item the intersection of the hyperplane $\displaystyle  \left\{x \in \RR^n \ \bigg| \ \sum_{i=1}^{n} x_i = \binom{n+1}{2}\right\}$ with the affine half-spaces $\displaystyle \left\{x \in \RR^n \ \bigg| \ \sum_{i \in I} x_i \geq \binom{|I|+1}{2}\right\}$ for all $\emptyset\neq I \subseteq [n]$.
\end{itemize}
\end{definition}

\rouge{Rappeler ici les définitions de cône normal et éventail normal}

\begin{definition}[Generalized permutahedron]
A \emph{generalized permutahedron} is a polytope equivalently defined as:
\begin{itemize}[leftmargin=*]
\item a polytope whose normal fan coarsens the one of the permutahedron, or 
\item the convex set \[ \left\{ x \in \RR^n \ : \ \sum_{i=1}^{n}x_i = z_{[n]} \ , \sum_{i \in I} x_i \geq z_I \text{ for all } I \subseteq [n] \right\} \ , \]
where $\{ z_I \}_{I \subseteq [n]}$ are real numbers which satisfy the inequalities $z_I+z_J \leq z_{I\cup J} + z_{I \cap J}$ for all $I,J \subseteq [n]$, and where $z_\emptyset =0$.
\end{itemize}
\end{definition}

Generalized permutahedra were introduced by A. Postnikov \cite{Postnikov09}, and are subject of a vast literature. 
They present many interesting combinatorial, geometric and algebraic properties. 
For instance, they are the universal family of polytopes possessing a certain Hopf algebraic structure \cite{AguiarArdila17}. \rouge{soit étoffer ce paragraphe, soit le supprimer}

Loday realizations of the associahedra are all generalized permutahedra as proven in \cite{}, while Forcey--Loday realizations of the multiplihedra are not. 
However, F. Ardila and J. Doker introduced in \cite{AD13} realizations of the multiplihedra that are generalized permutahedra. 
They are obtained from the Loday realizations of the associahedra via the operation of \emph{$q$-lifting}. 
We will consider the special case $q=1/2$ of their construction.

\begin{definition}[Lifting of a generalized permutahedron {\cite[Definition 2.3]{AD13}}]
For a generalized permutahedron $P\subset \RR^n$, its \emph{$\tfrac{1}{2}$-lifting} $P \left(\tfrac{1}{2}\right) \subset \RR^{n+1}$ is defined by 
\[P \left(\tfrac{1}{2}\right) \coloneqq \left\{ x \in \RR^{n+1} \ : \ 
\sum_{i=1}^{n+1} x_i = z_{[n]} \ , 
\sum_{i \in I} x_i \geq \tfrac{1}{2}z_I \ ,
\sum_{i \in I \cup \{n+1\}} x_i \geq z_I 
\text{ for all } I \subseteq [n] \right\} \ . \]
\end{definition}

\begin{proposition}[{\cite[Proposition 2.4]{AD13}}] 
The $\tfrac{1}{2}$-lifting $P \left(\tfrac{1}{2}\right)$ of a generalized permutahedron is again a generalized permutahedron. 
\end{proposition}

\begin{proposition} 
The $\tfrac{1}{2}$-lifting $\K_\omega\left(\tfrac{1}{2}\right)$ of the Loday realization of weight $\omega$ of the associahedron is a realization of the multiplihedron. 
\end{proposition}
\begin{proof} 
This is a particular case of \cite[Corollary 4.10]{AD13}.
\end{proof}

We call the lifting of the Loday associahedron $\K_\omega\left(\tfrac{1}{2}\right)$ the\emph{ Ardila--Doker realization} of the multiplihedron. It is related to the Forcey--Loday realization via the projection $\pi: \RR^{n+1} \to \RR^n$ which forgets the last coordinate. 
 
\begin{proposition} 
\label{prop:lifting} 
The Forcey--Loday realization of the multiplihedron is the image under the projection $\pi$ of the $\tfrac{1}{2}$-lifting of the Loday realization of the associahedron, scaled by $2$. 
That is, we have  \[ \J_\omega = \pi \left(2 \K_\omega\left(\tfrac{1}{2}\right)\right) \ . \]
\end{proposition}

\begin{proof} 
  This follows from the vertex description of $\tfrac{1}{2}$-lifting given in \cite[Definition 3.5.3]{Doker11}, together with the description of the projection from the permutahedron to the multiplihedron given in the proof of \cite[Theorem 3.3.6]{Doker11}. 
  The coordinates of a vertex in $2 \K_\omega$ are of the form $(2\alpha_1\beta_1, \ldots, 2\alpha_n\beta_n)$. 
  A coordinate $2\alpha_i\beta_i$ is then multiplied by $1/2$ in the lifting if and only if its associated vertex in the 2-colored maximal tree is of the upper color. 
  We thus recover the description of \cref{def:ForceyLoday}.
\end{proof}

In summary, we have the following diagram:
\medskip
\begin{equation*}
\begin{matrix}
  $ \small  \text{Loday}$ & & $ \small \text{Ardila--Doker}$ &  & $ \small \text{Forcey--Loday}$ \\
  $ \small  \text{associahedron}$ & & $ \small \text{multiplihedron}$ &  & $ \small \text{multiplihedron}$ \\
  & &  &  & \\
  \K_\omega & \hookrightarrow & \K_\omega \left(\tfrac{1}{2}\right) & \overset{\pi ( 2 \cdot ) }{\twoheadrightarrow} & \J_\omega \\
   & &  &  & \\
  \RR^n & \hookrightarrow & \RR^{n+1} & \twoheadrightarrow & \RR^n \\
  & &  &  & \\
  $ \small \text{Gen. permutahedron}$ & & $ \small \text{Gen. permutahedron}$ &  & $ \small \textit{Not}\text{ a gen. permutahedron}$
\end{matrix}
\end{equation*}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Diagonal of the multiplihedra}
\label{sec:II}

In this section, we define a cellular approximation of the diagonal of the Forcey--Loday realizations of the multiplihedra, and we endow them with an operadic bimodule structure over the Loday realizations of the associahedra in the category $\PolySub$. 
We use the methods of \cite{MTTV19} and the general theory developed in \cite{LA21}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
 
\subsection{Recollections}

\subsubsection{The monoidal category $\PolySub$}

Let us recall the definition of the symmetric monoidal category $(\PolySub, \times)$ from \cite[Section~2.1]{MTTV19}.
\begin{description}
\item[{\sc Objects}] An object of $\PolySub$ is a $d$-dimensional  polytope $P$ in the $n$-dimensional Euclidian space $\RR^n$, for any $0\leq d\leq n$.
\item[{\sc Morphisms}] A morphism in $\PolySub$ is a continuous map  $f: P\to Q$ which sends  $P$ homeomorphically to the underlying set $|\mathcal{D}|$ of a polytopal subcomplex $\mathcal{D}\subset~\La(Q)$ of $Q$ 
such that $f^{-1}(\mathcal D)$ defines a polytopal subdivision of $P$.
\end{description}
The category $\PolySub$ is in fact a monoidal subcategory of the symmetric monoidal category $(\mathsf{CW},\times )$ whose objects are finite CW-complexes and whose morphisms are CW-maps between CW-complexes.

\subsubsection{Operads and operadic bimodules}

Let $(\mathcal{C},\boxtimes )$ be a symmetric monoidal category.

\begin{definition}[Operad]
\begin{enumerate}[leftmargin=*]
\item A \emph{(non-symmetric) $\mathcal{C}$-operad} $P$ consists in the data of a collection of objects $\{ P_n \}_{n \geqslant 1}$ of $\mathcal{C}$ together with a unit element $e \in P_1$ and with partial composition maps
\[ \circ_i : P_k \boxtimes P_h \longrightarrow P_{h+k-1} \ , \ 1 \leqslant i \leqslant k  \]
which are unital and associative.
\item A \emph{morphism of operads} $P \rightarrow Q$ is a sequence of maps $P_n \rightarrow Q_n$ compatible with the partial composition maps and preserving the identity.
\end{enumerate}
\end{definition}

We refer for instance to \cite[Chapter 5]{LodayVallette12} for more details on this definition. We simply stress here that the objects $P_n$ are to be thought as spaces encoding arity $n$ operations, while the partial compositions $\circ_i$ define how to compose these operations together. See also subsection \ref{}.

\begin{definition}[Operadic bimodule]
\begin{enumerate}[leftmargin=*]
\item Let $P$ and $Q$ be two $\mathcal{C}$-operads. A \emph{$(P,Q)$-operadic bimodule} is the data of a collection of objects $\{ R_n \}_{n \geqslant 1}$ of $\mathcal{C}$ together with \emph{action-composition maps}
\begin{align*}
R_k \boxtimes Q_h &\underset{\circ_i}{\longrightarrow} R_{h+k-1} \ \ 1 \leqslant i \leqslant k \ ,  \\
P_h \boxtimes R_{j_1} \boxtimes \cdots \boxtimes R_{j_h} &\underset{\lambda_{j_1,\dots,j_h}}{\longrightarrow} R_{j_1 + \dots + j_h} \ ,
\end{align*}
which are compatible with one another, with identities, and with compositions in $P$ and $Q$. 
\item A \emph{morphism of operadic bimodules} $R \rightarrow R'$ is a sequence of maps $R_n \rightarrow R'_n$ compatible with the action-composition maps.
\end{enumerate}
\end{definition}

The grafting of trees endows planar trees with an operad structure in the category $\mathsf{Sets}$, whose arity $n$ space of operations is $\mathrm{PT}_n$ the set of planar trees of arity $n$. The grafting of trees described in subsection \ref{sss:grafting} endows similarly 2-colored trees with a $(\mathrm{PT},\mathrm{PT})$-operadic bimodule structure. 

\begin{definition} \label{def:hadamard-product}
\begin{enumerate}[leftmargin=*]
    \item Let $P$ and $P'$ be two $\mathcal{C}$-operads. The Hadamard product of $P$ and $P'$, denoted $P \boxtimes P'$ is the operad whose arity $n$ space of operations is $P_n \boxtimes P'_n$ and whose partial compositions are defined by the following diagram
    \[ (P_k \boxtimes P'_k) \boxtimes (P_h \boxtimes P'_h) \longrightarrow (P_k \boxtimes P_h) \boxtimes (P'_k \boxtimes P'_h) \longrightarrow P_{h+k-1} \boxtimes P'_{h+k-1} \ , \]
    where the first arrow is the map rearranging the factors $P_k$, $P_k'$, $P_h$ and $P'_h$ and the second map is $\circ_i \boxtimes \circ_i'$.
    \item The Hadamard product of two operadic bimodules $R$ and $R'$ is defined in a similar fashion. It is again denoted $R \boxtimes R'$ and is a $(P \boxtimes P' , Q \boxtimes Q')$-operadic bimodule.
\end{enumerate}
\end{definition}

\subsection{Positively oriented polytopes and diagonal maps}

We will denote by $\rho_z (P) \coloneqq 2z-P$ the reflection with respect to any point $z$ of a polytope~$P$. 

\begin{definition}
A \emph{positively oriented polytope} $(P, \vec v)$ is a polytope $P \subset \RR^n$ together with a vector $\vec v\in \RR^n$ which is not perpendicular to any edge of $P\cap \rho_z P$, for any $z \in P$.
\end{definition}

Any positively oriented polytope admits a diagonal map of the form
\begin{align*}
\begin{array}{rlcl}
\triangle_{(P,\vec v)}\  : & P &\to  &P \times P\\
&z & \mapsto& 
\bigl(\bm_{\vec v}(P\cap \rho_zP),\,  \tp_{\vec v}(P\cap \rho_z P)\bigr) \ .
\end{array}
\end{align*}
Such a diagonal map is a morphism in $\PolySub$, coincides with the usual diagonal $x\mapsto (x, x)$ on vertices, and is fiber-homotopic to it, as shown in \cite[Proposition~5]{MTTV19}.
Its cellular image admits moreover a combinatorial description in terms of the fundamental hyperplane arrangement of $P$, as we will now recall.

\begin{definition}[Fundamental hyperplane arrangement]
  \label{def:fundamentalhyperplane} 
  The \emph{fundamental hyperplane arrangement} $\mathcal{H}_P$ of $P$ is the collection of hyperplanes in $\RR^n$ orthogonal to the directions of the edges of $P\cap\rho_z P$, for all $z \in P$. 
\end{definition}

Recall that a face $F$ of a polytope $P \subset \RR^n$ is equal to the intersection of a family of facets $\{F_i\}$. 
If we choose an outward pointing normal vector $\vec F_i$ for each facet $F_i$ (see \cite[Definition 1.24]{LA21}) and a basis $\{b_k\}$ of the orthogonal complement of the affine hull of $P$ in $\RR^n$, then the normal cone of $F$ is given by $\mathcal{N}_P(F)=\cone(\{\vec F_i\} \cup \{b_k,-b_k\})$. 

\begin{theorem}[{\cite[Theorem 1.23]{LA21}}]
  \label{thm:universalformula} 
  Let $(P,\vec v)$ be a positively oriented polytope in $\RR^n$. For each $H\in\mathcal{H}_P$, we choose a normal vector $\vec d_H$ such that $\langle \vec d_H, \vec v \rangle >0$. We have 
\begin{eqnarray*}
  (F,G) \in \Ima \triangle_{(P,\vec v)} 
  &\iff&  \forall H \in \mathcal{H}_P , \ \exists i , \ \langle \vec F_i, \vec d_H \rangle < 0  \text{ or } \exists j , \ \langle \vec G_j, \vec d_H \rangle > 0 \ . 
\end{eqnarray*} 
\end{theorem}

We finally recall general facts from \cite[Section 1.6]{LA21}. 

\begin{definition}[Coarsening projection] 
  \label{def:coarseningprojection} 
  Let $P$ and $Q$ be two polytopes in $\RR^n$ such that the normal fan of $P$ refines the normal fan of $Q$. 
  The \emph{coarsening projection} from $P$ to $Q$ is the application $\theta : \mathcal{L}(P)\to\mathcal{L}(Q)$ which sends a face $F$ of $P$ to the face $\theta(F)$ of $Q$ whose normal cone $\mathcal{N}_Q(\theta(F))$ is the minimal cone with respect to inclusion which contains $\mathcal{N}_P(F)$.
\end{definition}

\begin{proposition} 
\label{prop:refinementofnormalfans}
Let $P$ and $Q$ be two polytopes such that the normal fan of $P$ refines the one of $Q$. 
If $P$ is positively oriented by $\vec v$, then so is $Q$. 
Moreover, the coarsening projection from $P$ to $Q$ commutes with the diagonal maps $\triangle_{(P,\vec v)}$ and $\triangle_{(Q,\vec v)}$, and we have 
\begin{eqnarray*}
  (F,G) \in \Ima \triangle_{(Q,\vec v)} 
  &\iff& \forall H \in \mathcal{H}_P , \ \exists i , \ \langle \vec F_i, \vec d_H \rangle < 0  \text{ or } \exists j , \ \langle \vec G_j, \vec d_H \rangle > 0 \ .
\end{eqnarray*} 
\end{proposition}

\noindent We will apply \cref{prop:refinementofnormalfans} with $P$ the permutahedron and $Q$ the Ardila--Doker multiplihedron, in order to define a diagonal map on the Forcey--Loday multiplihedron and to compute an explicit cellular formula for its image in \cref{thm:formuladiagonal}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Good orientation vectors and generalized permutahedra}

The projection $\pi : \RR^{n+1} \to \RR^n$ forgetting the last coordinate defines an affine isomorphism between any hyperplane $H$ of equation $\sum_{i=1}^{n+1} x_i = c \in \RR$, and $\RR^n$. 
The inverse map $(\pi_{| H})^{-1}$ is given by the assignment \[ (x_1, \ldots, x_n) \mapsto \left(x_1, \ldots, x_n, c- \sum_{i=1}^{n}x_i\right) \ . \]
If a polytope $P$ is contained in the hyperplane $H$, then the polytope $\pi(P)$ is affinely isomorphic to $P$, and the projection $\pi$ defines a bijection between the faces of $P$ and the faces of $\pi(P)$. Moreover, for every face $F$ of $P$, we have $\dim F = \dim \pi(F)$.

However, the projection $\pi$ does not preserve orthogonality in general, so if $P$ is positively oriented by $\vec v$, the projection $\pi(P)$ might not be positively oriented by $\pi(\vec v)$.  
We restrict our attention to a certain class of orientation vectors for which this property holds, in the case where $P$ is a generalized permutahedron.

\begin{definition} 
\label{def:goodvector}
A \emph{good orientation vector} is a vector $\vec v=(v_1, \ldots, v_{n+1})\in \RR^{n+1}$ satisfying \[v_{i}\geqslant2v_{i+1}\ , \ \text{for any}\  1\leqslant i\leqslant n\ , \quad \text{and}\quad  v_{n+1}>0 \ . \]
\end{definition}

 Observe that the family of good orientation vectors is stable under the projection forgetting the last coordinate: if $\vec v$ is a good orientation vector, then so is $\pi(\vec v)$.
Being a good orientation vector is a more restrictive condition than being a principal orientation vector in the sense of \cite[Definition 3.15]{LA21}. Thus, a good orientation vector orients positively any generalized permutahedron. 

\begin{proposition} 
\label{prop:goodprojection}
Let $P \subset \RR^{n+1}$ be a generalized permutahedron, and let $\vec v \in \RR^{n+1}$ be a good orientation vector. 
Then, the polytope $\pi(P)$ is positively oriented by $\pi(\vec v)$. 
Moreover, the projection $\pi$ commutes with the diagonal maps of $P$ and $\pi(P)$, that is $\triangle_{(\pi(P),\pi(\vec v))}=(\pi \times \pi)\triangle_{(P,\vec v)}$.
\end{proposition}

\begin{proof} 
Since $P$ is a generalized permutahedron, the direction of the edges of the intersection $P\cap\rho_z P$, for any $z \in P$, are vectors with coordinates equal to $0,1$ or $-1$, and the same number of $1$ and $-1$ (combine Proposition 1.27 and Proposition 3.4 of \cite{LA21}). 
The direction $\vec d$ of such an edge satisfies $\langle \vec d, \vec v \rangle \neq 0$, since the first non-zero coordinate of $\vec d$ will contribute a greater amount than the sum of the remaining coordinates in the scalar product.  
For the same reason, we have $\langle \pi(\vec d), \pi(\vec v) \rangle \neq 0$. As $\pi(P\cap\rho_z P)=\pi(P)\cap\rho_{\pi(z)}\pi(P)$, we have in particular that the image of the edges of $P\cap\rho_z P$ under $\pi$ are the edges of $\pi(P)\cap\rho_{\pi(z)}\pi(P)$and thus that $\pi(P)$ is positively oriented by $\pi(\vec v)$. 
For the last part of the statement, observe that $\pi$ preserves the orientation of the edges: if we have $\langle \vec d, \vec v \rangle >0$, then we have $\langle \pi(\vec d), \pi(\vec v) \rangle > 0$. 
Hence, the image of the vertex $\tp_{\vec v}(P\cap\rho_z P)$, which maximizes $\langle - ,\vec v \rangle$ over $P\cap\rho_z P$, under $\pi$ is equal to the vertex $\tp_{\pi(\vec v)}(\pi(P)\cap\rho_{\pi(z)} \pi(P))$ which maximizes $\langle - ,\pi(\vec v) \rangle$ over $\pi(P)\cap\rho_{\pi(z)} \pi(P)$. The argument for the minimum $\bm(P\cap\rho_z P)$ is the same.
\end{proof}

\begin{proposition}
Let $P\subset\RR^{n+1}$ be a generalized permutahedron. 
Any two good orientation vectors $\vec v, \vec w$ define the same diagonal maps on $P$ and $\pi(P)$, that is, we have $\triangle_{(P,\vec v)}=\triangle_{(P,\vec w)}$ and $\triangle_{(\pi(P),\pi(\vec v))}=\triangle_{(\pi(P),\pi(\vec w))}$.
\end{proposition}
\begin{proof}
Good orientation vectors are principal orientation vectors \cite[Definition 3.15]{LA21}. Since all principal orientation vectors live in the same chamber of the fundamental hyperplane arrangement of the permutahedron, they all define the same diagonal on the permutahedron \cite[Proposition 1.21]{LA21}, and thus the same diagonal on any generalized permutahedron (\cref{prop:refinementofnormalfans}). So, we have $\triangle_{(P,\vec v)}=\triangle_{(P,\vec w)}$. Finally, using \cref{prop:goodprojection}, we have $\triangle_{(\pi(P),\pi(\vec v))}=(\pi \times \pi)\triangle_{(P,\vec v)}=(\pi \times \pi)\triangle_{(P,\vec w)}=\triangle_{(\pi(P),\pi(\vec w))}$. 
\end{proof}

\subsection{Diagonal of the Forcey--Loday multiplihedra}
\label{sec:diagonal}

\begin{definition}
A \emph{well-oriented realization of the multiplihedron} is a positively oriented polytope which realizes the multiplihedron and such that the orientation vector induces the Tamari-type order on the set of vertices. 
\end{definition}

\begin{proposition}
\label{prop:OrientationVector}
Any good orientation vector induces a well-oriented realization $\left( \J_\omega, \vec v \right)$ of the Forcey--Loday multiplihedron, for any weight $\omega$. 
\end{proposition}

\begin{proof}
Using \cref{def:ForceyLoday}, we can compute that any edge of the realization of the multiplihedron $\J_\omega$ is directed, according to the Tamari type order, by either $\vec e_i$ or $\vec e_i-\vec e_j$, for $i<j$.
Since $\vec v$ has strictly decreasing coordinates, the scalar product is in each case positive. 
It remains to show that $P\cap\rho_z P$ is oriented by $\vec v$, for any $z \in P$. 
This follows directly from \cref{prop:goodprojection}, and the fact that $\J_\omega$ arises as the projection under $\pi$ of a generalized permutahedron as shown in  \cref{prop:lifting}.
\end{proof}

Any good orientation vector therefore defines a diagonal map $\triangle_\omega : \J_\omega\to \J_\omega \times \J_\omega$, for any weight $\omega$.
These diagonal maps are all equivalent up to isomorphim in the category $\PolySub$. 

\begin{proposition}
\label{prop:transitionmap}
For any pair of weights $\omega$ and $\theta$ of length $n$, there exists a unique isomorphism 
$\tr=\tr_\omega^\theta : \J_\omega \to \J_\theta$ in the category $\PolySub$,  
which preserves homeomorphically the faces of the same type and which commutes with the respective diagonals.
\end{proposition}

\begin{proof}
The arguments of \cite[Sections~3.1-3.2]{MTTV19} hold in the present case using \cref{prop:PropertiesKLoday}. 
We simply stress that the condition that the map $\tr$ commutes with the respective diagonals ensures that it is unique.
\end{proof}

\begin{definition} \label{def:diagonal-multipl-forcey-loday}
We define $\triangle_n : \J_n \to \J_n\times \J_n$ to be the diagonal induced by any good orientation vector for the Forcey--Loday realization of standard weight $\omega=(1, \ldots, 1)$.
\end{definition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Operadic bimodule structure on the Forcey--Loday multiplihedra}

We will use the transition maps $\tr$ of \cite[Definition 12]{MTTV19} and of \cref{prop:transitionmap} to endow the family of standard weight Forcey--Loday multiplihedra with an operadic bimodule structure over the standard weight Loday associahedra. 
The uniqueness property of the map $\tr$ will be used in a crucial way.. 

\begin{definition}[Action-composition maps] \label{def:action-composition}
For any $n,m\geq 1$ and any $1\leq i \leq m$, for any $k\geq 2$ and any $i_1,\ldots,i_k \geq 1$, we define the \emph{action-composition maps}  by 
\[
\vcenter{\hbox{
\begin{tikzcd}[column sep=1cm]
\circ_{p+1}\ : \ \J_{p+1+r}\times \K_q
\arrow[rr,  "\tr\times \id"]
& & 
\J_{(1,\ldots,q,\ldots,1)}\times \K_q 
\arrow[rr,hookrightarrow, "\Theta_{p,q,r}"]
&  &
\J_{n}\ \ \text{and}
\end{tikzcd}
}}
\]
\[
\vcenter{\hbox{
\begin{tikzcd}[column sep=1cm]
\gamma_{i_1,\ldots,i_k}\ : \ \K_{k}\times \J_{i_1} \times \cdots \times \J_{i_k}
\arrow[rr,  "\tr\times \id"]
& &
\K_{(i_1,\ldots,i_k)} \times \J_{i_1} \times \cdots \times \J_{i_k} 
\arrow[rr,hookrightarrow, "\Theta^{i_1, \ldots , i_k}"]
& &
\J_{i_1+\cdots + i_k}\ , 
\end{tikzcd}
}}
\]
where the last inclusions are given by the block permutations of the coordinates introduced in the proof of \cref{prop:PropertiesKLoday}. 
\end{definition}

Recall from \cite[Theorem 1]{MTTV19} that the diagonal maps $\triangle_n : \K_n \to \K_n \times \K_n$ define in fact a morphism of operads, where the operad $\{ \K_n \times \K_n \}$ is to be understood as the Hadamard product $\{ \K_n \} \times \{ \K_n \}$.
The diagonal maps $\triangle_n : \K_n \to \K_n \times \K_n$ and $\triangle_n : \J_n \to \J_n \times \J_n$ are in fact also compatible with the action-composition maps introduced in \cref{def:action-composition} :

\begin{proposition} 
\label{prop:thetacommutes}
The diagonal maps $\triangle_n$ commute with the maps $\Theta$.  
\end{proposition}

\begin{proof}
First observe that a good orientation vector has decreasing coordinates, thereby induces the diagonal maps $\triangle_n : \K_n \to \K_n \times \K_n$ and the non-symmetric operad structure on $\{\K_n\}$ defined in \cite{MTTV19}. 
Following \cite[Proposition 4.14]{LA21}, to prove the claim it suffices to show that the preimage under $\Theta^{-1}$ of a good orientation vector is still a good orientation vector for each associahedron and multiplihedron. 
This is easily seen to be the case from the definition of $\Theta$, in the proof of Point (4) of \cref{prop:PropertiesKLoday}. 
\end{proof}


\begin{theorem}\label{thm:MainOperad}\leavevmode
\begin{enumerate}[leftmargin=*]
\item The collection $\{\J_n\}_{n\geq 1}$ together with the action-composition maps $\circ_i$ and $\gamma_{i_1,\ldots,i_k}$ form an operadic bimodule over the operad $\{\K_n\}$ in the category $\PolySub$. 

\item The maps $\{\triangle_n : \J_n \to \J_n\times \J_n\}_{n\geq 1}$ form a morphism of $(\{\K_n\},\{\K_n\})$-operadic bimodules in the category $\PolySub$. 
\end{enumerate}
\end{theorem}

\begin{proof}
Using \cref{prop:thetacommutes}, we can apply the proof of \cite[Theorem~1]{MTTV19} \emph{mutatis mutandis}. The uniqueness of the transition map $\tr$ is the key argument, as it forces the operadic axioms to hold. We also point out that $\{ \J_n\times \J_n \}$ is to be understood as the Hadamard product $\{ \J_n \} \times \{ \J_n \}$, and that its $(\{\K_n\},\{\K_n\})$-operadic bimodule structure is defined as the pullback of its natural $(\{\K_n \times \K_n\},\{\K_n \times \K_n\})$-operadic bimodule structure under the diagonal maps $\{ \triangle_n : \K_n \to \K_n \times \K_n \}$.
\end{proof}

Point \textit{(1)} of \cref{thm:MainOperad} was already mentioned in \cite{Mazuir21}, where associahedra and multiplihedra are realized as compactifications of moduli spaces of metric trees and used to construct $\mathrm{A}_\infty$-structures on the Morse cochains of a closed manifold.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Cellular formula for the diagonal of the multiplihedra} \label{sec:III}

We provide in this section an explicit cellular formula for the diagonal of the Forcey--Loday multiplihedra. 
The key fact that the Ardila--Doker multiplihedron is a generalized permutahedron allows us to avoid the computation of the fundamental hyperplane arrangement of the Forcey--Loday multiplihedron itself, by using \cref{prop:refinementofnormalfans} and the computation of the fundamental hyperplane arrangement of the permutahedra from \cite{LA21}. \rouge{reprendre l'introduction à la fin}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{2-colored nested linear graphs}

\rouge{harmoniser les $abcd$ en $\bullet$}

\subsubsection{2-colored nested linear graphs}

Let $\gra$ be a \emph{linear graph} with $n$ vertices, as represented in Figure \ref{fig:bijections}.
We respectively write $V(\gra)$ and $E(\gra)$ for its sets of vertices and edges.
Any subset of edges $N\subset E(\gra)$ defines a subgraph of $g$ whose edges are $N$ and whose vertices are all the vertices adjacent to an edge in $N$. 
We call this graph the \emph{closure} of~$N$. 

\begin{definition}[Nest and nesting]
\leavevmode
\begin{itemize}[leftmargin=*]
\item A \emph{nest} of a linear graph $\gra$ with $n$ vertices is a non-empty set of edges $N \subset E(\gra)$ whose closure is a connected subgraph of $\gra$.  
\item A \emph{nesting} of a graph $\gra$ is a set $\mathcal{N}=\{N_i\}_{i\in I}$ of nests such that 
\begin{enumerate}[leftmargin=*]
    \item the \emph{trivial nest} $E(\gra)$ is in $\mathcal{N}$,
    \item for every pair of nests $N_i\neq N_j$, we have either $N_i \subsetneq N_j$, $N_j \subsetneq N_i$ or $N_i \cap N_j = \emptyset$, and
    \item if $N_i \cap N_j = \emptyset$ then no edge of $N_i$ is adjacent to an edge of $N_j$.
\end{enumerate}
\end{itemize}
\end{definition}

Two nests that satisfy Conditions (2) and (3) are said to be \textit{compatible}. 
We denote the set of nestings of $\gra$ by $\mathcal{N}(\gra)$. 
We naturally represent a nesting by circling the closure of each nest as in \cref{fig:bijections}. 
A nesting is moreover \emph{maximal} if it has maximal cardinality $|\mathcal{N}|=|E(\gra)|$.

\begin{definition}[2-colored nesting] 
A \emph{2-colored nesting} is a nesting where each nest is either colored in blue, red or purple, and which satisfy the following properties: 
\begin{enumerate}[leftmargin=*]
\item if a nest $N$ is blue or purple, then all nests contained in $N$ are blue, and 
\item if a nest $N$ is red or purple, then all nests that contain $N$ are red.
\end{enumerate}
\end{definition}
One should think of purple nests as being colored in both red and blue. 
We denote by $\mathcal{N}_2(\gra)$ the set of 2-colored nestings of $\gra$. 
A 2-colored nesting is moreover \emph{maximal} if it has maximal cardinality, and it is made of blue and red nests only. 

\begin{remark} 
The data of a 2-colored nesting on a graph is equivalent to the data of a marked tubings on its line graph, as defined in \cite{DevadossForcey08}. 
See also \cite[Remark 2.4]{LA21}.
\end{remark}

\begin{lemma} 
\label{lemma:bijection}
There is a bijection between 2-colored trees with $n$ leaves and 2-colored nested linear graphs with $n$ vertices. Also, 2-colored maximal trees are in bijection with maximal 2-colored nested linear graphs.
\begin{figure}[h!]
\resizebox{0.8\linewidth}{!}{
%\begin{tikzpicture}
%\node (b1) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,3) {};
%\node (b2) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,2) {};
%\node (b3) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,1) {};
%\node (b4) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,0) {};
%\node (b5) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-6,1.5) {};   


%\node (c1) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-3.5,2) {\small $23$}; 
%\node (c3) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-5,1.5) {\small $1$}; 

%\draw[MidnightBlue] (b1)--(c1) node {};
%\draw[MidnightBlue] (b2)--(c1) node {};
%\draw[MidnightBlue] (b3)--(c1) node {};

%\draw[BrickRed] (c3)--(-4.25,1.75) ;
%\draw[MidnightBlue] (-4.25,1.75)--(c1) node {};

%\draw[BrickRed] (c3)--(-4.25,1.12) ;
%\draw[MidnightBlue] (b4)--(-4.25,1.12) ;

%\draw[BrickRed] (c3)--(b5) node {}; %racine

%\draw[-] (-4.25,3)--(-4.25,0);


%\node (B) at (-1.25,1.5) {$\longleftrightarrow$};

%\node (x1) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,2.55) {\small $3$};
%\node (x2) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,1.5) {\small $2$};
%\node (x3) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,0.38) {\small $1$};

%\node (t4) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-0,0) {};
%\node (t3) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,1) {};
%\node (t2) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,2) {};
%\node (t1) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,3) {};  


%\draw[-] (t4)--(t3) node {};
%\draw[-] (t3)--(t2) node {};
%\draw[-] (t2)--(t1) node {};


%\draw [MidnightBlue,rounded corners,thick] (-0.15,0.6) -- (-0.4,0.8) -- (-0.4,3.1) -- (-0.15,3.3) -- (.15,3.3) -- (0.4,3.1) -- (.4,.8) -- (.15,.6) -- cycle;
%\draw [BrickRed,rounded corners,thick] (-0.15,-0.35) -- (-0.5,-0.1) -- (-0.5,3.15) -- (-0.15,3.4) -- (.15,3.4) -- (0.5,3.15) -- (0.5,-0.1) -- (0.15,-0.35) -- cycle;

    
%\end{tikzpicture} \quad \quad \raisebox{0em}{
\begin{tikzpicture}

\node (b1)[circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,3) {};
\node (b2)[circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,2) {};
\node (b3) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,1) {};
\node (b4) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-2,0) {};
\node (b5) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (-6,1.5) {};   


\node (c2) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-3,1.5) {}; 
\node (c1) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-3.8,2.1) {}; 
\node (c3) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-5,1.5) {}; 

\draw[MidnightBlue,thick] (b1)--(c1) node {};
\draw[MidnightBlue,thick] (b2)--(c2) node {};
\draw[MidnightBlue,thick] (b3)--(c2) node {};
\draw[MidnightBlue,thick] (c2)--(c1) node {};

\draw[BrickRed,thick] (c3)--(c1) node {};
\draw[BrickRed,thick] (c3)--(b5) node {};

\draw[BrickRed,thick] (c3)--(-3.8,0.9) node {};
\draw[MidnightBlue,thick] (b4)--(-3.8,0.9) node {};


\draw[-] (-3.8,3)--(c1) node {};
\draw[-] (-3.8,0)--(c1) node {};

\node (B) at (-1.25,1.5) {$\longleftrightarrow$};

\node (x1) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,2.55) {};
\node (x2) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,1.5) {};
\node (x3) [circle,draw=none,minimum size=4mm,inner sep=0.1mm] at (0.15,0.38) {};

\node (t4)[circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (-0,0) {};
\node (t3)[circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,1) {};
\node (t2) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,2) {};
\node (t1) [circle,draw=black,minimum size=4mm,inner sep=0.1mm] at (0,3) {};  


\draw[-] (t4)--(t3) node {};
\draw[-] (t3)--(t2) node {};
\draw[-] (t2)--(t1) node {};


\draw [MidnightBlue,rounded corners,thick] (-0.15,0.7) -- (-0.3,0.9) -- (-0.3,2.1) -- (-0.15,2.3) -- (.15,2.3) -- (.3,2.1) -- (.3,.9) -- (.15,.7) -- cycle;
\draw [Purple,rounded corners,thick] (-0.15,0.6) -- (-0.4,0.8) -- (-0.4,3.1) -- (-0.15,3.3) -- (.15,3.3) -- (0.4,3.1) -- (.4,.8) -- (.15,.6) -- cycle;
\draw [BrickRed,rounded corners,thick] (-0.15,-0.35) -- (-0.5,-0.1) -- (-0.5,3.15) -- (-0.15,3.4) -- (.15,3.4) -- (0.5,3.15) -- (0.5,-0.1) -- (0.15,-0.35) -- cycle;


\node (C) at (1.25,1.5) {$\longleftrightarrow$};

\node (D) at (3.35,1.5) {$\red{ \bullet \purple{\blue{\bullet \bullet} \bullet}}$};

\end{tikzpicture}}
\caption{Bijections between 2-colored trees, 2-colored nested linear graphs, and 2-colored parenthesizations. \rouge{Corriger le dessin de gauche et les parenthésages inclinés (Proposition 4.13 aussi}}
\label{fig:bijections}
\end{figure}
\end{lemma}

\begin{proof}
This is a simple generalization of the bijection between planar trees and nested linear graphs, see \cref{fig:bijections}. 
Under this bijection, vertices of 2-colored trees correspond to nests, and their colors agree under the previous conventions. 
\end{proof}

\subsubsection{\rouge{Titre}}

\rouge{Phrase de transition, où on dit qu'on définit ... , et qu'on en aura besoin dans la sous-section ... }

\begin{definition} \label{def:left-levelwise-graph}
Let $(\gra,\mathcal{N})$ be a nested linear graph. The \emph{left-levelwise order} on $\mathcal{N}$ is defined as follows: we order the nests by decreasing cardinality, and we order two nests of same cardinality by comparing their minimal elements. 
\end{definition}

\begin{definition} 
\label{def:signs}
Let $\gra$ be a linear graph.  \rouge{problème ordre sur les arêtes}
\begin{enumerate}[leftmargin=*]
\item For a nesting $\mathcal{N}$ of $\gra$, we denote by $N_i$ the unique minimal nest of $\mathcal{N}$ containing the edge $i$, with respect to nest inclusion. 
\item An edge $i$ of $\gra$ is \emph{admissible} if $i \neq \min N_i$. We denote the set of admissible edges of $\mathcal{N}$ by $\mathrm{Ad}(\mathcal{N})$. 
\item Given two nestings $\mathcal{N}, \mathcal{N}'$ of $\gra$, we endow the set $\mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}')$ with the total order defined by the left-levelwise order on the nestings and defined within a nest by following the numbering of the edges in increasing order. \rouge{Il faut reformuler cette définition qui n'est pas claire}
\item Define the function $\sigma_{\mathcal{N}\mathcal{N}'}: \mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}') \to (1,2,\ldots,|\mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}')|)$ defined on $i \in \mathrm{Ad}(\mathcal{N})$ by 
\begin{equation*}
  \sigma_{\mathcal{N}\mathcal{N}'}(i)= 
  \begin{cases}
    \min N_i -1 & \text{ if } i \in \mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}') \text{ and } 1 \neq \min N_i < \min N_i' \\ 
    i-1 & \text{ otherwise ,} 
  \end{cases}
\end{equation*}
and similarly on $i \in \mathrm{Ad}(\mathcal{N}')$ by inversing the roles of $\mathcal{N}$ and $\mathcal{N}'$, induces a permutation of the set $\{1,2,\ldots,|\mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}')|\}$ that we will denote by $\sigma_{\mathcal{N}\mathcal{N}'}$.
\end{enumerate}
\end{definition}

\rouge{Il faut reformuler et réorganiser cette dernière définition (en plusieurs environnements et paragraphes par exemple), c'est trop fourre-tout pour le moment}

\begin{definition} 
\rouge{Revoir 3.6 en fonction} For 2-colored nestings $\mathcal{N}$ and $\mathcal{N}'$, we use the same definitions as in \cref{def:signs}, but with the following two modifications:
\begin{enumerate}[leftmargin=*]
\item[(2)] We say that an edge $i$ of $g$ is \emph{admissible} when $N_i$ is bicolored, or if $i \neq \min N_i$ when $N_i$ is monochrome. 
\item[(4)] The function $\sigma_{\mathcal{N}\mathcal{N}'}: \mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}') \to (1,2,\ldots,|\mathrm{Ad}(\mathcal{N})\sqcup \mathrm{Ad}(\mathcal{N}')|)$ is defined on $i \in \mathrm{Ad}(\mathcal{N})$ by \rouge{mise en page}
\begin{equation*}
  \sigma_{\mathcal{N}\mathcal{N}'}(i)= 
  \begin{cases}
    \min N_i & \text{ if } i \in \mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}') , N_i \text{ is monochrome and } N_i' \text{ is not} \\
    \min N_i & \text{ if } i \in \mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}'), N_i \text{ and } N_i' \text{ are monochrome and } \min N_i < \min N_i' \\ 
    i & \text{ otherwise ,} 
  \end{cases}
\end{equation*}
and similarly on $i \in \mathrm{Ad}(\mathcal{N}')$ by inversing the roles of $\mathcal{N}$ and $\mathcal{N}'$.
\end{enumerate}
\end{definition}

\subsection{Cellular formula for the diagonal} \label{ss:cellular-formula}

\begin{definition}
Let $(\gra,\mathcal{N})$ be a nested linear graph. We denote by 
\begin{itemize}[leftmargin=*]
  \item $B(\mathcal{N})$ the set of blue nests of the nesting $\mathcal{N}$,
  \item $R(\mathcal{N})$ the set of all disjoint \emph{unions} of red and purple nests of the nesting $\mathcal{N}$.
\end{itemize}
\end{definition}

To each blue nest $B \in B(\mathcal{N})$ and to each disjoint union of red and purple nests $R \in R(\mathcal{N})$, we can respectively associate \emph{characteristic vectors} $\vec B$ and $\vec R$ which have a $1$ in position $i$ if $i \in B$ (resp. if $i \in \vec R$) and $0$ otherwise. 
We denote by $\vec n \coloneqq (1,\ldots,1)$ the characteristic vector of the trivial nest. \rouge{Tout cela vit dans $R^n$ c'est bien ça ?}

\begin{lemma} 
\label{lemma:normalcones}
The normal cone of a the face of the Ardila--Doker realization of the multiplihedron labeled by the 2-colored nesting  $\mathcal{N}$ is given by \rouge{$- n$ aussi ?} \[\cone\left(\{-\vec B\}_{B \in B(\mathcal{N})} \cup \{-\vec R\}_{R \in R(\mathcal{N})} \cup \{\vec n\} \right) \ . \]
\end{lemma}

\rouge{D'après la formule pour la diagonale, il doit y avoir un 1 en position finale pour R et un 0 pour B ; de plus cela doit être R dans le Cone, et pas -R. A confirmer ensemble}

\begin{proof} 
This follows from the description of the Ardila--Doker multiplihedron as a generalized permutahedron: 
the normal cone of a face of the multiplihedron is a union of normal cones of faces of the permutahedron. 
These faces can be easily determined from the projection from the permutahedron to the multiplihedron, written down explicitly in the proof of \cite[Theorem 3.3.6]{Doker11}.
\end{proof}

We are now ready to compute the cellular formula for the diagonal of the Forcey--Loday multiplihedra. We introduce \[ D(n)\coloneqq \{(I,J) \ | \ I,J\subset\{1,\ldots,n\}, |I|=|J|, I\cap J=\emptyset, \min(I\cup J)\in I \}. \]
We moreover number the edges of the linear graph wit $n$ vertices from bottom to top, starting at $1$ and ending at $n-1$. Blue nests and disjoint unions of red and purple nests can then in particular be seen as subsets of $\{1,\ldots,n-1\}$ hence of $\{1,\ldots,n\}$.

\begin{theorem}
\label{thm:formuladiagonal}
The image of the diagonal map $\triangle_n : \J_n \to \J_n \times \J_n$ introduced in \cref{def:diagonal-multipl-forcey-loday} admits the following description.
For $\mathcal{N}$ and $\mathcal{N}'$ two 2-colored nestings of the linear graph with $n$ vertices \rouge{pas de condition de dimension ?}, we have that
\begin{eqnarray*}
  (\mathcal{N},\mathcal{N}') \in \Ima\triangle_n 
  & \iff & \forall (I,J) \in D(n), \\
  && \exists B \in B(\mathcal{N}), |B\cap I|>|B\cap J| \text{ or }  \\
  && \exists R \in R(\mathcal{N}), |(R\cup \{n\}) \cap I|>| (R\cup \{n\}) \cap J| \text{ or }  \\
  && \exists B' \in B(\mathcal{N}'), |B'\cap I|<|B'\cap J| \text{ or } \nonumber \\
  && \exists R' \in R(\mathcal{N}'), |(R'\cup \{n\}) \cap I|<| (R'\cup \{n\}) \cap J| \ .
\end{eqnarray*}
\rouge{Formule à revérifier ensemble}
\end{theorem}

\begin{proof} 
The essential ingredient is the computation of the fundamental hyperplane arrangement of the permutahedron, which was already done in \cite[Section 3.1]{LA21}. The result follows in four steps:
\begin{enumerate}[leftmargin=*]
\item Since a good orientation vector $\vec v$ is also a principal orientation vector \cite[Definition 3.15]{LA21}, it orients positively the permutahedron. 
\item Using \cref{prop:refinementofnormalfans} and the description of the normal cones of the faces of the multiplihedron in \cref{lemma:normalcones}, we get the above formula for the Ardila--Doker realizations of the multiplihedra. 
\item \cref{prop:goodprojection} garantees that this formula holds for the Forcey--Loday realizations, which completes the proof.
\end{enumerate}
\end{proof}

Let us make this formula explicit in low dimensions. 
We write 2-colored nestings of a linear graph with $n$ vertices as 2-colored parenthesizations of a word with $n$ symbols $\bullet$, which are easier to read and shorter to type. See \cref{fig:bijections}. 
We moreover only write pairs of faces $(F,G)$ such that $\dim F + \dim G = \dim P$. \rouge{Revérifier que pas de problème de parenthésages}

\begin{equation*}
  \begin{matrix}
      \triangle_2(\purple{\bullet \bullet}) & = & \blue{\bullet \bullet} \times \purple{\bullet \bullet} \cup \purple{\bullet \bullet} \times \red{\bullet \bullet}
  \end{matrix}
\end{equation*}

\begin{equation*}
  \renewcommand*{\arraystretch}{1.5}
  \begin{matrix}
      \triangle_3(\purple{\bullet \bullet \bullet}) 
      & = & \blue{\blue{\bullet \bullet} \bullet} \times \purple{\bullet \bullet \bullet} 
      & \cup & \purple{\bullet \bullet \bullet} \times \red{\bullet \red{\bullet \bullet}}
      & \cup & \blue{\bullet \bullet \bullet} \times \purple{\bullet \blue{\bullet \bullet}} \\
      & \cup & \blue{\bullet \bullet \bullet} \times \red{\bullet \purple{\bullet \bullet}}  
      & \cup & \purple{\bullet \blue{\bullet \bullet}} \times \red{\bullet \purple{\bullet \bullet}} 
      & \cup & \purple{\blue{\bullet \bullet} \bullet} \times \red{\purple{\bullet \bullet} \bullet} \\
      & \cup & \purple{\blue{\bullet \bullet} \bullet} \times \red{\bullet \bullet \bullet} 
      & \cup & \red{\purple{\bullet \bullet} \bullet} \times \red{\bullet \bullet \bullet} 
  \end{matrix}
\end{equation*}

\begin{equation*}
  \renewcommand*{\arraystretch}{1.5}
  \begin{matrix}
      & & & & \triangle_4(\purple{\bullet \bullet \bullet \bullet}) =  \\
      &  & \blue{\blue{\blue{\bullet \bullet}\bullet}\bullet} \times \purple{\bullet \bullet \bullet \bullet} 
      & \cup & \purple{\bullet \bullet \bullet \bullet} \times \red{\bullet \red{\bullet \red{\bullet \bullet}}}
      & \cup & \blue{\blue{\bullet \bullet \bullet}\bullet} \times \purple{\bullet \blue{\bullet \bullet}\bullet} \\ 
      & \cup & \red{\purple{\bullet \bullet}\purple{\bullet \bullet}} \times \red{\bullet \bullet\red{\bullet \bullet}} 
      & \cup & \blue{\blue{\bullet \bullet \bullet}\bullet} \times \purple{\bullet \blue{\bullet \bullet \bullet}} 
      & \cup & \red{\purple{\bullet \bullet}\bullet \bullet} \times \red{\bullet \bullet\red{\bullet \bullet}} \\
      & \cup & \blue{\bullet \blue{\bullet \bullet}\bullet} \times \purple{\bullet \blue{\bullet \bullet \bullet}} 
      & \cup & \red{\purple{\bullet \bullet \bullet}\bullet} \times \red{\bullet \red{\bullet \bullet}\bullet}
      & \cup & \blue{\blue{\bullet \bullet}\bullet \bullet} \times \purple{\bullet \bullet \blue{\bullet \bullet}} \\
      & \cup & \red{\purple{\bullet \bullet \bullet}\bullet} \times \red{\bullet \red{\bullet \bullet \bullet}} %10
      & \cup & \purple{\blue{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\purple{\bullet \bullet \bullet}\bullet}
      & \cup & \purple{\bullet \bullet\blue{\bullet \bullet}} \times \red{\bullet \red{\bullet \purple{\bullet \bullet}}} \\
      & \cup & \purple{\blue{\bullet \bullet}\blue{\bullet \bullet}} \times \red{\purple{\bullet \bullet}\purple{\bullet \bullet}}
      & \cup & \purple{\bullet \blue{\bullet \bullet}\bullet} \times \red{\bullet \red{\purple{\bullet \bullet}\bullet}}
      & \cup & \blue{\blue{\bullet \bullet}\bullet \bullet} \times \red{\purple{\bullet \bullet}\purple{\bullet \bullet}} \\
      & \cup & \purple{\bullet \blue{\bullet \bullet} \bullet} \times \red{\bullet \red{\bullet \bullet \bullet}}
      & \cup & \purple{\bullet \blue{\blue{\bullet \bullet}\bullet}} \times \red{\bullet \purple{\bullet \bullet\bullet}} 
      & \cup & \purple{\blue{\bullet \bullet}\bullet \bullet} \times \red{\purple{\bullet \bullet}\red{\bullet \bullet}}\\
      & \cup & \blue{\bullet \blue{\bullet \bullet} \bullet} \times \red{\bullet \purple{\bullet\bullet \bullet}}
      & \cup & \blue{\blue{\bullet \bullet \bullet}\bullet} \times \red{\bullet \purple{\bullet \bullet \bullet}}
      & \cup & \purple{\blue{\bullet \bullet}\bullet \bullet} \times \red{\bullet \bullet\red{\bullet \bullet}} \\
      & \cup & \red{\purple{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\purple{\bullet \bullet}\bullet \bullet}
      & \cup & \purple{\bullet \blue{\bullet \bullet \bullet}} \times \red{\bullet \purple{\bullet \blue{\bullet \bullet}}}
      & \cup & \purple{\blue{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\purple{\bullet \bullet}\bullet \bullet} \\
      & \cup & \purple{\bullet \blue{\bullet \bullet \bullet}} \times \red{\bullet \red{ \bullet \purple{\bullet \bullet}}} 
      & \cup & \red{\bullet \purple{\bullet \bullet}\bullet} \times \red{\bullet \red{\bullet \bullet \bullet}}
      & \cup & \red{\red{\purple{\bullet \bullet}\bullet }\bullet} \times \red{\bullet \bullet \bullet \bullet} \\
      & \cup & \blue{\bullet \bullet \bullet \bullet} \times \purple{\bullet \blue{\bullet\blue{\bullet \bullet}}} 
      & \cup &   \red{\purple{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\bullet \bullet \bullet \bullet} 
      & \cup & \blue{\bullet \bullet \bullet \bullet} \times \red{\bullet \purple{\bullet \blue{\bullet \bullet}}} \\
      & \cup & \purple{\blue{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\bullet \bullet \bullet \bullet} 
      & \cup & \blue{\bullet \bullet \bullet \bullet} \times \red{\bullet\red{\bullet\purple{\bullet \bullet}}} 
      & \cup & \red{\purple{\bullet \bullet}\blue{\bullet \bullet}} \times \red{\bullet \bullet \purple{\bullet \bullet}} \\
      & \cup & \purple{\blue{\bullet \bullet \bullet}\bullet} \times \red{\purple{\bullet \blue{\bullet \bullet}}\bullet}
      & \cup & \purple{\blue{\bullet \bullet}\blue{\bullet \bullet}} \times \red{\bullet \bullet \purple{\bullet \bullet}}
      & \cup & \purple{\blue{\bullet \bullet \bullet}\bullet} \times \red{\bullet \red{\purple{\bullet \bullet}\bullet}} \\ %topbot
      & \cup & \purple{\blue{\bullet \bullet \bullet}\bullet} \times \red{\bullet \blue{\bullet \bullet}\bullet} %topbot
      & \cup & \blue{\blue{\bullet \bullet}\bullet \bullet} \times \red{\bullet \bullet\purple{\bullet \bullet}}
      & \cup & \purple{\blue{\bullet \bullet \bullet}\bullet} \times \red{\bullet \red{\bullet \bullet \bullet}} \\
      & \cup & \red{\purple{\bullet \blue{\bullet \bullet}}\bullet} \times \red{\bullet \purple{\bullet \bullet}\bullet}
      & \cup & \red{\blue{\bullet \bullet \bullet}\bullet} \times \red{\bullet \purple{\bullet \bullet}\bullet}  %topbot
      & \cup & \purple{\blue{\blue{\bullet \bullet}\bullet}\bullet} \times \red{\bullet \purple{\bullet \bullet}\bullet} %topbot
  \end{matrix}
\end{equation*}


\medskip

\noindent The number of pairs of faces of complementary dimensions in the image of $\triangle_n$ are respectively given for $n=0$ to $6$ by $1,2,8,42,254,1678$ and $11 790$. This sequence does not (yet) appear in the Online Encyclopedia of Integer Sequences (OEIS). 

\medskip

The cellular image of $\triangle_n$ can in fact be represented on the polytope $\J_n$ as follows: for each pair of faces $(F,G) \in \Ima \triangle_n$, draw the polytope $(F+G)/2$. 
This defines a polytopal subdivision of $\J_n$.
The polytopal subdivision of $\J_4$ is illustrated on the first page of this article. \rouge{Retravailler et étoffer ce paragraphe - Il faut également faire un dessin en dimension 2 et l'étiqueter}

\subsection{About this formula} \label{ss:about}

Given a positively oriented polytope $(P, \vec v)$ and a face $F \subset P$, the orientation vector $\vec v$ defines a unique vertex $\tp F$ (resp. $\bm F$) which maximizes (resp. minimizes) the scalar product $\langle - , \vec v \rangle$. 
By \cite[Proposition 1.15]{LA21}, we have that any pair of faces $(F,G) \in \Ima \triangle_{(P,\vec v)}$ satisfies $\tp F \leq \bm G$. 
In the case of the simplices, the cubes and the associahedra, the converse also holds: the image of the diagonal is given by $$(F,G) \in \Ima \triangle_n \iff \tp F\leq \bm G \ . $$

This formula however does not hold for the diagonal of the Forcey--Loday multiplihedra ! 
In dimension~$3$, the image $\Ima \triangle_4$ contains indeed all pairs of faces $\tp F\leq \bm G$ except four of them: $\purple{\blue{abc}d} \times \red{a\red{\purple{bc}d}}$, $\purple{\blue{abc}d} \times \red{a\blue{bc}d}$, $\red{\blue{abc}d} \times \red{a\purple{bc}d}$ and $\purple{\blue{\blue{ab}c}d} \times \red{a\purple{bc}d}$.
Recall from \cite{LA21} that the $\tp F\leq \bm G$ formula also does not hold for the operahedra, and in particular for the permutahedra.
\rouge{Explication du fait qu'on sélectionne un chemin et dessin}

We conjecture in fact that the condition $\tp F\leq \bm G$ is equivalent to the conditions in \cref{thm:formuladiagonal} for the pairs $(I,J)$ such that $|I|=|J|=1$. This was already the case for the permutahedra as shown in \cite[Proposition 3.17]{LA21}. \rouge{Parler également de l'associaèdre, puis des idées sur les I,J supérieurs}

\rouge{The formula above, even though easily implemented in the computer, is not optimal. For instance, one could use Equation (1) in \cite[Theorem 1.23]{LA21} to reduce the number of pairs $(I,J)$ on which the conditions have to be tested. 
One could also compute directly the fundamental hyperplane arrangement of the Ardila--Doker or Forcey--Loday multiplihedron.}

\begin{remark}
Observe that our choice of diagonal differs from the one of \cite{SaneblidzeUmble04}. 
For instance, the four pairs of faces above are not part of the image of the Saneblidze--Umble diagonal in dimension $3$. \rouge{Je ne comprends pas cette phrase}
A way to relate the diagonal constructed in this article to the diagonal of \cite{SaneblidzeUmble04} would be to find a choice of chamber in the fundamental hyperplane arrangement of the permutahedra (or the multiplihedra) recovering the latter diagonal, see also \cite[Remark~3.18]{LA21}.
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Tensor product of \Ainf -morphisms and \Ainf -functors}
\label{sec:IV}

\rouge{Après avoir tapé tout cela, reprendre le OneNote pour voir s'il y a des idées supplémentaires à inclure}

Applying the cellular chains functor, we obtain an explicit and universal formula for the tensor product of $\mathrm{A}_\infty$-morphisms between $\mathrm{A}_\infty$-algebras, and at the same time for $\mathrm{A}_\infty$-functors between $\mathrm{A}_\infty$-categories. 
However, this formula is not strictly compatible with the composition of $\Ainf$-morphisms. 
We prove in section \ref{} that this is in fact the case for \emph{any} operadic tensor product, and we discuss some perspectives regarding the possibility of endowing the category of $\Ainf$-algebras with a (homotopy) symmetric monoidal structure. \rouge{Réécrire à la fin}

\subsection{\Ainf -algebras and \Ainf -morphisms}

\subsubsection{Definitions}

We work in the rest of this article in homological convention. We will refer to chain complexes as \emph{dg-modules}, where the abbreviation dg stands for differential graded, and their differential will always have degree $-1$.

\begin{definition}[$\mathrm{A}_\infty$-algebra] \label{def:ainf-alg} An \emph{$\mathrm{A}_\infty$-algebra} is the data of a dg-module $(A,\partial)$ together with operations \[ m_n : A^{\otimes n} \to A \ , \ n \geq 2 \] of degree $|m_n|=n-2$, satisfying the equations 
\[ [ \partial , m_n ] = - \sum_{\substack{p+q+r=n \\ 2 \leq q \leq n-1}} (-1)^{p+qr}m_{p+1+r}(\id^{\otimes p} \otimes m_q \otimes \id^{\otimes r}) \ , \ n\geq 2 \ . \]
\end{definition}

\begin{definition}[$\mathrm{A}_\infty$-morphism] \label{def:ainf-morph}
An \emph{$\mathrm{A}_\infty$-morphism} $F : A\rightsquigarrow B$ between two $\mathrm{A}_\infty$-algebras $(A,\{m_n\})$ and $(B,\{m_n'\})$ is a family of linear maps \[f_n : A^{\otimes n} \to B \ , \ n \geq 1\] of degree $|f_n|=n-1$, satisfying the equations  \[
 [ \partial , f_n] =  \sum_{\substack{p+q+r=n \\ q \geq 2}} (-1)^{p+qr}f_{p+1+r}(\id^{\otimes p} \otimes m_q \otimes \id^{\otimes r}) -  \sum_{\substack{i_1+\cdots+i_k=n \\ k \geq 2}} (-1)^{\varepsilon} m_k'(f_{i_1}\otimes\cdots\otimes f_{i_k})  \ , \ n \geq 1 \ ,\] where $\varepsilon = \sum_{u=1}^{k}(k-u)(1-i_u)$.
\end{definition}

Let now $A$, $B$ and $C$ be \Ainf -algebras and $F : A \rightsquigarrow B$ and $B \rightsquigarrow C$ be two \Ainf -morphisms. We define their composition $G \circ F : A \rightsquigarrow C$ to be the \Ainf -morphism whose operation of arity $n$ is given by the formula
\[ \sum_{i_1+\cdots+i_k=n} (-1)^{\varepsilon} g_k(f_{i_1}\otimes\cdots\otimes f_{i_k})  \ . \]
This composition is moreover associative.

\begin{definition}
We define \Aalg\ to be the category whose objects are \Ainf -algebras, whose morphisms are \Ainf -morphisms and whose composition is defined in the previous paragraph.
\end{definition}

Representing the operations $m_n$ as corollae \arbreop{0.15} of arity $n$, the equations of \cref{def:ainf-alg} read as
\begin{align*}
    [ \partial , \arbreop{0.15} ] = - \sum_{\substack{p+q+r=n \\ 2 \leq q \leq n-1}} (-1)^{p+qr} \eqainf   \ . \tag{$\star$} \label{eq:ainf-alg}
\end{align*} 
Representing the operations $m_n$ in blue \arbreopbleu{0.15}, the operations $m'_n$ in red \arbreoprouge{0.15} and the operations $f_n$ by \arbreopmorph{0.15}, the equations of \cref{def:ainf-morph} can be rewritten as
\begin{align*} 
[ \partial , \arbreopmorph{0.15} ] = \sum_{\substack{p+q+r=n \\ q \geq 2}} (-1)^{p+qr} \eqainfmorphun \ -  \sum_{\substack{i_1+\cdots+i_k=n \\ k \geq 2}} (-1)^{\varepsilon} \eqainfmorphdeux \ . \tag{$\star \star$} \label{eq:ainf-morph}
\end{align*}
Finally, representing the operations $f_n$ by \arbreopmorphcompun\ and the operations $g_n$ by \arbreopmorphcompdeux, the formula for the composition of \Ainf -morphisms reads as
\begin{align*}
     \sum_{i_1+\cdots+i_k=n} (-1)^{\varepsilon} \compainf \ . \tag{$\star \star \star$} \label{eq:ainf-comp}
\end{align*}

An \Ainf -algebra is simply a correct notion of a dg-algebra whose product is associative up to homotopy. The maps $m_n$ for $n \geq 3$ are the higher coherent homotopies arising from the fact that $m_2$ is homotopy-associative. An \Ainf -morphism is then a correct notion of a map $f_1$ which preserves the products $m_2$ up to homotopy, together with higher coherent homotopies $f_n$ for $n \geq 2$. For more details, we refer to \cite[Chapter 9]{LodayVallette12}. 

\subsubsection{The operad \Ainf\ and the operadic bimodule \Minf} \label{sss:operad-ainf-operadic-bimod-minf}

Define $(\mathsf{dg\text{-}mod},\otimes)$ to be the symmetric monoidal category whose objects are dg-modules over $\mathbb{Z}$ and whose morphisms are degree 0 chain maps between dg-modules.
An operad and an operadic bimodule in this category will respectively be called a \emph{dg-operad} and a \emph{dg-operadic bimodule}.

Let $A$ be a dg-module. We define the operad $\End_A$ to be the dg-operad whose dg-module of operations of arity $n$ is $\End_A(n) := \Hom (A^{\otimes n},A)$ and whose partial composition maps are straightforward to define.
Notice that e choose to write the arity $n$ with the notation $(n)$ and not with a subscript $\cdot_n$ for the sake of readability here.
Given $P$ a dg-operad, we then define a \emph{$P$-algebra structure} on $A$ to be the datum a morphism of operads $P \rightarrow \End_A$. In other words the datum of a way to interpret each operation of $P_n$ in $\Hom (A^{\otimes n},A)$, such that abstract composition in $P$ coincides with actual composition in $\End_A$.
\Ainf -algebras are in particular encoded by a dg-operad : 

\begin{definition}[Operad \Ainf]
The \emph{operad \Ainf} is the quasi-free dg-operad generated in arity $n \geqslant 2$ by one operation $\arbreop{0.15}$ of degree $n-2$ 
\[ \Ainf := \mathcal{F}( \arbreopdeux , \arbreoptrois, \arbreopquatre , \cdots ) \ , \]
and whose differential is defined by equations \ref{eq:ainf-alg}.
\end{definition}

In a similar fashion, let $A$ and $B$ be two dg-modules. They respectively determine the operads $\End_A$ and $ \End_B$. We define the dg-operadic bimodule $\Hom (A ,B)$ to be the $(\End_B , \End_A)$-operadic bimodule whose dg-module of operations of arity $n$ is $ \Hom (A ,B)_n := \Hom (A^{\otimes n},B)$ and whose action-composition maps are again straightforward to define.
Let $R$ be a $(P,Q)$-operadic bimodule and suppose that $A$ and $B$ are respectively endowed with a $Q$-algebra structure and a $P$-algebra structure. One can then consider the induced $(P,Q)$-operadic bimodule structure on $\Hom (A ,B)$. A morphism of operadic bimodules $R \rightarrow \Hom (A ,B)$ can then be understood as a way to interpret the operations of $R$ as maps $A^{\otimes n} \rightarrow B$ from the $Q$-algebra $A$ to the $P$-algebra $B$. \Ainf -morphisms between \Ainf -algebras are in particular encoded by a dg-operadic bimodule :

\begin{definition}
The operadic bimodule \Minf\ is the quasi-free $(\Ainf ,\Ainf )$-operadic bimodule generated in arity $n \geqslant 1$ by one operation $\arbreopmorph{0.15}$ of degree $n-1$ 
\[ \Minf :=  \mathcal{F}^{\Ainf , \Ainf}(\arbreopunmorph , \arbreopdeuxmorph , \arbreoptroismorph , \arbreopquatremorph , \cdots ) \ , \]
and whose differential is defined by equations \ref{eq:ainf-morph}.
\end{definition}

Composition of \Ainf -morphisms can also be formulated at the level of the operadic bimodule \Minf\ as a morphism of $(\Ainf , \Ainf)$-operadic bimodules $\Minf \rightarrow \Minf \circ_{\Ainf} \Minf$.
The notation $\circ_{\Ainf}$ denotes the coequalizer of the following diagram
\[ \begin{tikzcd}
\Minf \circ \Ainf \circ \Minf \ar[r,shift left=.75ex,"\ide \circ \lambda"] \ar[r,shift right=.75ex,swap,"\mu \circ \ide"] & \Minf \circ \Minf \ ,
\end{tikzcd} \]
where the operation $\circ$ is defined in \cite[Chapter 5]{LodayVallette12} and the maps $\mu : \Minf \circ \Ainf \rightarrow \Minf$ and $\lambda : \Ainf \circ \Minf \rightarrow \Minf$ are the operadic maps defining the action-composition maps of \Minf .
In other words, the dg-module of operations of arity $n$ of the $(\Ainf ,\Ainf$)-operadic bimodule $\Minf \circ_{\Ainf} \Minf$ is the dg-module
\[ \bigoplus_{i_1 + \cdots + i_k = n} \Minf (k) \otimes \Minf (i_1) \otimes \cdots \otimes \Minf (i_k) \]
quotiented by identifying the action of the operad \Ainf\ on the right of $\Minf (k)$ with the action of the operad \Ainf\ on the left of $\Minf (i_1) \otimes \cdots \otimes \Minf (i_k)$. 
We write the first factor \Minf\ of $\Minf \circ_{\Ainf} \Minf$ as
\[ \Minf :=  \mathcal{F}^{\Ainf , \Ainf}(\arbreopunmorphcompdeux , \arbreopdeuxmorphcompdeux , \arbreoptroismorphcompdeux , \arbreopquatremorphcompdeux , \cdots ) \ , \]
and its second factor as
\[ \Minf :=  \mathcal{F}^{\Ainf , \Ainf}(\arbreopunmorphcompun , \arbreopdeuxmorphcompun , \arbreoptroismorphcompun , \arbreopquatremorphcompun , \cdots ) \ . \]

\begin{definition}
The \emph{composition morphism} is the morphism of $(\Ainf ,\Ainf )$-operadic bimodules $\comp : \Minf \rightarrow \Minf \circ_{\Ainf} \Minf$ defined on the generating operations of \Minf\ by 
\[ \comp \left( \arbreopmorph{0.15}  \right) =  \sum_{i_1+\cdots+i_k=n} (-1)^{\varepsilon} \compainf \ . \]
\end{definition}

Consider now $\Minf \rightarrow \Hom (A, B)$ and $\Minf \rightarrow \Hom (B,C)$ two \Ainf -morphisms $A \rightsquigarrow B$ and $B \rightsquigarrow C$. The composition of these two \Ainf -morphisms is then defined on the operadic level by the following composition of morphisms of $(\Ainf , \Ainf)$-operadic bimodules
\[ \Minf \longrightarrow \Minf \circ_{\Ainf} \Minf \longrightarrow \Hom (B ,C) \circ_{\End_B} \Hom (A , B) \longrightarrow \Hom ( A , C) \ , \]
where the first arrow is $\comp$, the second arrow is defined by the morphisms of operadic bimodules $\Minf \rightarrow \Hom (A, B)$ and $\Minf \rightarrow \Hom (B,C)$ and the last arrow is straightforward to define.

\subsubsection{The Forcey--Loday multiplihedra realize the operadic bimodule \Minf} \label{sss:forcey--loday-realize}

Recall that the cellulair chains functors $C_\bullet^{cell} : \mathsf{CW} \rightarrow \mathsf{dg-mod}$ is a strong monoidal functor. Using the inclusion $\mathsf{Poly} \subset \mathsf{CW}$, we thereby have in particular that the functor $C_\bullet^{cell}$ sends operads in polytopes to dg-operads and operadic bimodules in polytopes to dg-operadic bimodules.

\begin{definition}[Cellular orientation] 
\leavevmode
Let $P\subset\RR^n$ be a polytope, and let $F$ be a face of $P$. A \emph{cellular orientation of $F$} is a choice of orientation of its linear span. A \emph{cellular orientation of $P$} is a choice of cellular orientation for each face $F$ of $P$. 
\end{definition}

\begin{definition} \label{def:left-levelwise-tree}
Let $t$ be a (2-colored) tree $t$. The \emph{left-levelwise order} on the vertices of $t$ is defined by ordering them from bottom to top and from left to right, proceeding one level at a time.
\end{definition}

\begin{remark}
The left-levelwise order on the vertices of $t$ corresponds under the bijection of \cref{lemma:bijection} to the left-levelwise order of \cref{def:left-levelwise-graph} on the nesting of the associated nested linear graph.
\end{remark}

\begin{figure}
    \centering
    \begin{subfigure}{0.4\textwidth}
    \centering
    \exampleleftlevelwiseone
    \end{subfigure}
    \begin{subfigure}{0.4\textwidth}
    \centering
    \exampleleftlevelwisetwo
    \end{subfigure}
    \caption*{The tree on the left decomposes as $(\arbreopquatre \circ_3 \arbreopquatre ) \circ_3 \arbreoptrois$ and the orientation on the face it labels is determined by the product $K_4 \times K_4 \times K_3$. The tree on the right decomposes as $ (\arbreopquatre \circ_1 \arbreoptrois ) \circ_6 \arbreopquatre$ and defines the orientation determined by the product $K_4 \times K_3 \times K_4$.}
    \label{fig:left-levelwise-order}
\end{figure}

Given a tree $t$, there is a unique decomposition $t=(\cdots ((c_{n_1} \circ_{i_1} c_{n_2})\circ_{i_2}c_{n_3})\cdots \circ_{i_k} c_{n_{k+1}})$ where the corollae $c_n$ are grafted according to this total order. Using the grafting operations defined in \cref{sss:grafting}, a 2-colored tree admits similarly a unique decomposition as a sequence of blue corollae, red corollae and 2-colored corollae ordered according to this total order. 
We can then make the same choices of cellular orientations as in \cite[I, Section 4]{Mazuir21} :
\begin{itemize}
  \item For the Loday associahedra $\K_n \subset \RR^{n-1}$ of \cite{MTTV19}, we choose the basis $\{e_1 - e_{j+1}\}_{1\leq j \leq n-2}$ as positively oriented basis of the top dimensional cell $\arbreop{0.15}$. We then choose the orientation of any other face $t$ of $\K_n$ to be the image of the positively oriented bases of the top cells of the polytopes $\K_{n_i}$ under the sequence of partial compositions following the left-levelwise order on $t$. 
  \item We choose the basis $\{- e_j\}_{1\leq j \leq n-1}$ as positively oriented basis of the top dimensional cell $\arbreopmorph{0.15}$ of the Forcey--Loday multiplihedra $\J_n \subset \RR^{n-1}$. We then choose the orientation of any other face $t$ of $\J_n$ to be the image of the positively oriented bases of the top cells of the polytopes $\K_{n_i}$ and $\J_{n_j}$ under the sequence of action-compositions following the left-levelwise order on $t$.
\end{itemize}
We refer to \ref{fig:left-levelwise-order} for illustrations of these choices of cellular orientations.

\begin{proposition} 
\label{prop:functoriality}
These cellular orientations on the Loday associahedra and the Forcey-Loday multiplihedra provide an isomorphism of dg-operads $C_\bullet^{cell}(\{\K_n\})\cong \mathrm{A}_\infty$ and an isomorphism of dg-operadic bimodules $C_\bullet^{cell}(\{\J_n\})\cong \Minf$. 
\end{proposition}

\begin{proof}
Our choice of cellular orientation using the left-levelwise order on trees ensures that we recover precisely the usual sign conventions for the partial compositions of the quasi-free operad $\mathrm{A}_\infty$ and for the action-composition maps of the quasi-free operadic bimodule $\Minf$. 
The signs for the differential were already computed in \cite[I, Section 4]{Mazuir21}.
\end{proof}

\subsection{Tensor product of \Ainf -algebras and \Ainf -morphisms}

The formalism of diagonals on the operad \Ainf\ and the operadic bimodule \Minf\ provides an adapted framework to define tensor products of \Ainf -algebras and \Ainf -morphisms.
We compute the image of the polytopal diagonals on the Loday associahedra and the Forcey--Loday multiplihedra under the functor $C_\bullet^{cell}$. These computations yield in particular explicit formulae for a tensor product of \Ainf -algebras and a tensor product of \Ainf -morphisms.

\subsubsection{Diagonals on the operad \Ainf\ and on the operadic bimodule \Minf}

Given $P$ and $Q$ two dg-operads and $R$ and $R'$ two dg-operadic bimodules, recall that we have defined in \cref{def:hadamard-product} their Hadamard product $P \otimes Q$ and $R \otimes R'$.

\begin{definition}
\begin{enumerate}[leftmargin=*]
    \item A \emph{diagonal on the operad \Ainf} is defined to be a morphism of operads $\triangle : \Ainf \rightarrow \Ainf \otimes \Ainf$. 
    \item Given a diagonal on the operad \Ainf, a \emph{diagonal on the operadic bimodule \Minf} is defined to be a morphism of operadic bimodules $\triangle : \Minf \rightarrow \Minf \otimes \Minf$ where $\Minf \otimes \Minf$ is endowed with its $(\Ainf , \Ainf)$-operadic bimodule structure induced by the diagonal on \Ainf .
\end{enumerate}
\end{definition}

Let now $A$ and $B$ be two \Ainf -algebras. It is not straightforward to define an \Ainf -algebra structure on the tensor dg-module $A \otimes B$. Indeed, if we define naively the operations $m_n^{A \otimes B}$ as \[ m_n^{A \otimes B}(a_1 \otimes b_1 , \cdots , a_n \otimes b_n) := \pm m_n^A(a_1 , \cdots , a_n) \otimes m_n^B (b_1 , \cdots , b_n) \ , \]
they fail to satisfy the \Ainf -equations and do not even have the expected degree.
Diagonals on the operad \Ainf\ provide the correct framework to solve this problem.

Consider indeed a diagonal $\triangle : \Ainf \rightarrow \Ainf \otimes \Ainf$. One can then define an \Ainf -algebra structure on $A \otimes B$ by considering the following composition
\[ \Ainf \longrightarrow \Ainf \otimes \Ainf \longrightarrow \End_A \otimes \End_B \longrightarrow \End_{A \otimes B} \ , \]
where the first arrow is the diagonal $\triangle$, the second arrow is the Hadamard product of the morphism of operads $\Ainf \rightarrow \End_A$ and $\Ainf \rightarrow \End_B$ defining the \Ainf -algebra structures on $A$ and $B$, and the third arrow is the natural morphism of operads transforming two maps $A^{\otimes n} \rightarrow A$ and $B^{\otimes n} \rightarrow B$ into a map $(A\otimes B)^{\otimes n} \rightarrow A \otimes B$.

Diagonals on the operadic bimodule \Minf\ provide the correct framework to define tensor products of \Ainf -morphisms. Let indeed $A_1$, $A_2$, $B_1$ and $B_2$ be four \Ainf -algebras and $f_1 : A_1 \rightarrow B_1$ and $f_2 : A_2 \rightarrow B_2$ be two \Ainf -morphisms. We endow $A_1 \otimes A_2$ and $B_1 \otimes B_2$ with their \Ainf -algebra structures defined in the previous paragraph. 
One can then define an \Ainf -morphism $f_1 \otimes f_2 : A_1 \otimes A_2 \rightarrow B_1 \otimes B_2$ by the following composition
\[ \Minf \rightarrow \Minf \otimes \Minf \rightarrow \Hom (A_1 , B_1) \otimes \Hom (A_2,B_2) \rightarrow  \Hom (A_1 \otimes A_2 , B_1 \otimes B_2) \ , \]
where the arrows are morphisms of $(\Ainf , \Ainf )$-operadic bimodules and are defined in a similar fashion to the maps of the previous paragraph.

\subsubsection{The polytopal diagonals on \Ainf\ and \Minf}

We will work in this section using the nested linear graphs conventions for the operad \Ainf\ and the operadic bimodule \Minf . In these notations, the operad \Ainf\ is the quasi-free dg-operad generated in arity $n \geq 2$ by one operation of degree $n-2$ represented by the trivially nested linear graph with $n$ vertices $(\bullet \cdots \bullet )$ 
\[ \Ainf := \mathcal{F} \left( \black{ \bullet \bullet } , \black{ \bullet \bullet \bullet } ,  \black{ \bullet \bullet \bullet \bullet } , \dots  \right) \ , \]
and whose differential is defined by
\[ \partial \left( \black{ \bullet \cdots \bullet } \right) = - \sum_{\substack{p+q+r=n \\ 2 \leq q \leq n-1}} (-1)^{p+qr} \black{ \underbrace{\bullet \cdots \bullet}_p \black{ \underbrace{\bullet \cdots \bullet}_q } \underbrace{\bullet \cdots \bullet}_r } \ , \ n\geq 2 \ . \]
The operadic bimodule \Minf\ is the quasi-free $(\Ainf , \Ainf)$-operadic bimodule generated in arity $n \geq 1$ by one operation of degree $n-1$ represented by the trivial 2-colored nested linear graph with $n$ vertices $\purple{\bullet \cdots \bullet}$
\[ \Minf := \mathcal{F}^{\Ainf , \Ainf} \left( \purple{\bullet} , \purple{\bullet \bullet} , \purple{\bullet \bullet \bullet} , \cdots \right)\]
and whose differential is defined by
\begin{align*}
\partial \left( \purple{\bullet \cdots \bullet} \right) =& \sum_{\substack{p+q+r=n \\ q \geq 2}} (-1)^{p+qr} \purple{\underbrace{\bullet \cdots \bullet}_p \blue{\underbrace{\bullet \cdots \bullet}_q} \underbrace{\bullet \cdots \bullet}_r} \\
&-  \sum_{\substack{i_1+\cdots+i_k=n \\ k \geq 2}} (-1)^{\varepsilon} \red{\purple{\underbrace{\bullet \cdots \bullet}_{i_1}} \cdots \purple{\underbrace{\bullet \cdots \bullet}_{i_k}}} \ , \ n \geq 1 \ .
\end{align*} 


\begin{proposition}
\label{prop:diagonal-polytopale-a-infini}
The image of the diagonal of \cite{MTTV19} on the Loday associahedra under the functor $C_\bullet^{cell}$ defines a diagonal on the operad \Ainf , that we denote \diagainf . It is determined by the formula 
\[ \diagainf \left( (\bullet \cdots \bullet) \right) = 
\sum_{\substack{
  \mathcal{N},\mathcal{N}' \in \mathcal{N}_n \\ 
  \tp(\mathcal{N}) \leq \bm(\mathcal{N'}) \\
  |\mathcal{N}|+|\mathcal{N}'|=n
}}
(-1)^{|\mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}')|}\mathrm{sgn}(\sigma_{\mathcal{N}\mathcal{N}'})\mathcal{N} \otimes \mathcal{N}' \ , \] 
where ... \rouge{Il faut harmoniser les notations de linear graph, ensemble des nestings, etc.}. \rouge{vérifier la formule ensemble}
\end{proposition}

\begin{proof}
The image of the diagonal on the Loday associahedra under the functor $C_\bullet^{cell}$ defines a diagonal on the operad \Ainf\ as this functor is strong monoidal. 
The signs arise from the choices of cellular orientations on the Loday associahedra made in subsection \ref{sss:forcey--loday-realize}. We refer to the proof of \cite[Proposition 4.27]{LA21} for more details on the sign computations. The diagonal $\diagainf : \Ainf \rightarrow \Ainf \otimes \Ainf$ is finally determined by the image of the generating operations of the quasi-free operad \Ainf , which are the trivially nested linear graphs $\gra_n$.
\end{proof}

We compute in particular that
\[ \begin{matrix}
\diagainf ( \black { \bullet \bullet } ) &=& & \black{\bullet \bullet} \otimes \black{\bullet \bullet} & & \\
\diagainf ( \bullet \bullet \bullet ) &=& & \black{\black{\bullet \bullet} \bullet} \otimes \black{\bullet \bullet \bullet} &+& \black{\bullet \bullet \bullet} \otimes \black{\black{\bullet \bullet} \bullet} \\
\diagainf ( \black{ \bullet \bullet \bullet \bullet} ) 
&=& & \black{\bullet \bullet \bullet \bullet} \otimes \black{\bullet \black{ \bullet \black{ \bullet \bullet }} }  &+& \black{ \black{ \black{\bullet \bullet} \bullet } \bullet }  \otimes \black{ \bullet \bullet \bullet \bullet } \\
& & +& \black{ \black{\bullet \bullet } \bullet \bullet } \otimes \black{ \bullet \bullet \black{ \bullet \bullet }}  &+& \black{ \black{ \bullet \bullet \bullet } \bullet }  \otimes \black{ \bullet \black{ \bullet \bullet } \bullet }  \\ 
& & +& \black{ \black{ \bullet \bullet \bullet } \bullet }  \otimes \black{ \bullet \black{ \bullet \bullet \bullet }} &+& \black{ \bullet \black{ \bullet \bullet } \bullet } \otimes \black{ \bullet \black{ \bullet \bullet \bullet }}
\end{matrix} \]
\rouge{Calculer les signes - On retrouve en plus en fait la diagonale de MS (à signe près/à ordre près ?)}


\begin{definition}[Tensor product of \Ainf -algebras] \label{def:tensor-product-ainf-alg}
Let $A$ and $B$ be two \Ainf -algebras. We define $A \otimes_\infty B$ to be the dg-module $A \otimes B$ endowed with the \Ainf -algebra structure defined by the diagonal \diagainf .
\end{definition}

\begin{proposition}
\label{prop:diagonal-polytopale-m-infini}
The image of the diagonal on the Forcey--Loday multiplihedra under the functor $C_\bullet^{cell}$ defines a diagonal on the operadic bimodule \Minf , that we denote \diagminf . It is determined by the formula
\[ \diagminf \left( \purple{\bullet \cdots \bullet} \right) = 
\sum_{
\mathcal{N},\mathcal{N}'} 
(-1)^{|\mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}')|}
\mathrm{sgn}(\sigma_{\mathcal{N}\mathcal{N}'})
\mathcal{N} \otimes \mathcal{N}' \ ,\]
where the sum runs over the pairs $\mathcal{N},\mathcal{N}' \in \mathcal{N}^2_n$ such that $\ |\mono(\mathcal{N})|+|\mono(\mathcal{N}')|=n$ and which satisfy the conditions in \cref{thm:formuladiagonal}, and where $\mono(\mathcal{N})$ denotes the set of monochrome nests of a nesting $\mathcal{N}$. \rouge{définir cette notation dans la section 3 ? ainsi les nouvelles notations $N_n$ - régler le problème des parenthésages en italique}
\end{proposition}

\begin{proof}
The proof is identical to the proof of \cref{prop:diagonal-polytopale-a-infini}. 
\end{proof}

We compute in particular that 
\[
\begin{matrix}
    \diagminf ( \purple{ \bullet } )  &=&  & \purple{ \bullet } \otimes \purple{ \bullet } & &  \\
    \diagminf ( \purple{ \bullet \bullet } ) &=& & \blue{\bullet \bullet} \otimes \purple{\bullet \bullet} & + & \purple{\bullet \bullet} \otimes \red{\bullet \bullet} \\
    \diagminf (\purple{\bullet \bullet \bullet \bullet}) &=& 
     & \blue{\blue{\blue{\bullet \bullet}\bullet}\bullet} \otimes \purple{\bullet \bullet \bullet \bullet} 
      & + & \purple{\bullet \bullet \bullet \bullet} \otimes \red{\bullet \red{\bullet \red{\bullet \bullet}}} \\
& &+ &  \blue{\bullet \bullet \bullet} \otimes \purple{\bullet \blue{\bullet \bullet}}    &  + & \blue{\bullet \bullet \bullet} \otimes \red{\bullet \purple{\bullet \bullet}}  \\  &   &+ & \purple{\bullet \blue{\bullet \bullet}} \otimes \red{\bullet \purple{\bullet \bullet}} 
  &  + & \purple{\blue{\bullet \bullet} \bullet} \otimes \red{\purple{\bullet \bullet} \bullet} \\ & &  + & \purple{\blue{\bullet \bullet} \bullet} \otimes \red{\bullet \bullet \bullet}   &  + & \red{\purple{\bullet \bullet} \bullet} \otimes \red{\bullet \bullet \bullet} 
  \end{matrix}
\]
\rouge{Corriger les signes également}

\begin{definition}[Tensor product of \Ainf -morphisms]
Let $A_1$, $A_2$, $B_1$ and $B_2$ be \Ainf -algebras and $f_1 : A_1 \rightarrow B_1$ and $f_2 : A_2 \rightarrow B_2$ be two \Ainf -morphisms. We define $f_1 \otimes_{\infty} f_2 : A_1 \otimes_\infty A_2 \rightarrow B_1 \otimes_\infty B_2$ to be the \Ainf -morphism defined by the diagonal \diagminf on \Minf .
\end{definition}

Recall from subsection \ref{ss:about} that any pair of faces $(F,G)$ of the multiplihedra satisfying the conditions of \cref{thm:formuladiagonal} always satisfies $\tp F \leq \bm G$. It would thereby be interesting to know whether the formula
\begin{align*}
\triangle \left( \purple{\bullet \cdots \bullet} \right) = 
\sum_{\substack{
    \tp(\mathcal{N}) \leq \bm(\mathcal{N'}) \\
  \ |\mono(\mathcal{N})|+|\mono(\mathcal{N}')|=n
}}
(-1)^{|\mathrm{Ad}(\mathcal{N})\cap \mathrm{Ad}(\mathcal{N}')|}\mathrm{sgn}(\sigma_{\mathcal{N}\mathcal{N}'})\mathcal{N} \otimes \mathcal{N}' \ , \tag{$\star$}
\label{eq:diagonal-top-bot}
\end{align*}
also defines a diagonal on the operadic bimodule \Minf . In other words, to know if one can directly copy the dg-formula from the polytopal diagonal on \Ainf\ to obtain a diagonal on \Minf . We prove in the following proposition that this is not the case. \rouge{Absolument détailler un peu plus pour insister sur l'importance du résultat au niveau polytopal ! - Mettre aussi une phrase à ce sujet dans la section About this formula}

\begin{proposition}
The formula \ref{eq:diagonal-top-bot} does not define a diagonal on \Minf .
\end{proposition}

\begin{proof}
We computed in subsection \ref{ss:cellular-formula} that in arity $\leq 3$, the image $\Ima \triangle$ contains all pairs of faces $\tp F\leq \bm G$ and that in arity 4, the image $\Ima \triangle_4$ contains all pairs of faces $\tp F\leq \bm G$ except four of them: \rouge{Liste ?} .
The diagonal $\triangle$ defined by formula \ref{eq:diagonal-top-bot} thereby coincides with $\diagminf$ in arity $\leq 3$ and satisfies 
\[ \triangle ( \purple{ \bullet \bullet \bullet \bullet} ) = \diagminf ( \purple{ \bullet \bullet \bullet \bullet} ) + \delta \]
where $\delta$ is the signed sum of the previous four pairs of faces. 
The map $\triangle : \Minf \rightarrow \Minf$ is a diagonal on \Minf\ if and only if it is compatible with the differential. In particular, it has to satisfy
\[ \triangle \partial ( \purple{ \bullet \bullet \bullet \bullet} )  = \partial  \triangle (  \purple{ \bullet \bullet \bullet \bullet} )  \ . \]
Using the fact that $\diagminf \partial = \partial \diagminf$ and that $\triangle = \diagminf$  in arity $\leq 3$, this equation is equivalent to the equation $\partial \delta = 0$. We compute that this last equation is not satisfied, i.e. that $\partial \delta \neq 0$, hence that the formula \ref{eq:diagonal-top-bot} does not define a diagonal on \Minf .
\end{proof}


\subsection{Tensor product of \Ainf -categories and \Ainf -functors}

The natural categorified versions of the notions of \Ainf -algebra and \Ainf -morphism respectively are the notions of \Ainf -category and \Ainf -functor.

\begin{definition} 
An $\mathrm{A}_\infty$-category $\cat{A}$ consists of 
\begin{itemize}[leftmargin=*]
  \item a set of objects $\mathrm{Ob}(\cat{A})$,
  \item for each pair of objects $X,Y \in \mathrm{Ob}(\cat{A})$, a dg-module $\cat{A}(X,Y)$, and
  \item for each $n\geq 2$ and each family of objects $X_0,\ldots,X_n \in \mathrm{Ob}(\cat{A})$, a linear map \[m_n : \cat{A}(X_0,X_1) \otimes \cdots \otimes \cat{A}(X_{n-1},X_n) \to \cat{A}(X_0,X_n)\] of degree $|m_n|=n-2$, satisfying the equations of \cref{def:ainf-alg}.
\end{itemize}
\end{definition}

\begin{definition}
An $\mathrm{A}_\infty$-functor $f : \cat{A} \rightsquigarrow \cat{B}$ between two $\mathrm{A}_\infty$-categories $\cat{A}$ and $\cat{B}$ consists of
\begin{itemize}[leftmargin=*]
\item a function $\mathrm{Ob}(f) : \mathrm{Ob}(\cat{A}) \to \mathrm{Ob}(\cat{B})$,
\item for each $n \geq 1$ and each family of objects $X_0, \ldots, X_n \in \mathrm{Ob}(\cat{A})$, a linear map \[f_n : \cat{A}(X_0,X_1) \otimes \cdots \otimes \cat{A}(X_{n-1},X_n) \to \cat{B}(f(X_0),f(X_n))\] of degree $|f_n|=n-1$, satisfying the equations of \cref{def:ainf-morph}.
\end{itemize}
\end{definition}

An \Ainf -category $\cat{A}$ induces an ordinary category $H_*(\cat{A})$ in homology (in fact without identity morphisms, see the following paragraphs), while an \Ainf -functor induces an ordinary functor $H_*(f) : H_*(\cat{A}) \rightsquigarrow H_*(\cat{B})$ between ordinary categories. Hence, an \Ainf -category is simply a correct notion of a category whose composition is associative up to homotopy, while an \Ainf -functor is the correct notion of a \emph{homotopy} functor between such categories.
An \Ainf -category with only one object is moreover exactly an \Ainf -algebra, while an \Ainf -functor between \Ainf -algebras is then exactly an \Ainf -morphism..

\begin{definition}[Tensor product of \Ainf -categories] \label{def:tensor-product-ainf-cat}
The \emph{tensor product} of two $\mathrm{A}_\infty$-categories $\cat{A}$ and $\cat{B}$ is denoted $\cat{A} \otimes_\infty \cat{B}$ and given by 
\begin{itemize}[leftmargin=*]
  \item the set of objects $\mathrm{Ob}(\cat{A}\otimes \cat{B})\coloneqq \mathrm{Ob}(\cat{A})\times\mathrm{Ob}(\cat{B})$,
  \item for each pair of objects $X_1\times Y_1,X_2\times Y_2 \in \mathrm{Ob}(\cat{A}\otimes \cat{B})$, the space of morphisms \[\cat{A}\otimes \cat{B}(X_1\times Y_1,X_2\times Y_2)\coloneqq \cat{A}(X_1,X_2)\otimes\cat{B}(Y_1,Y_2) \ , \]
  \item and by defining the higher compositions $m_n$ as in \cref{prop:diagonal-polytopale-a-infini}.
\end{itemize}
\end{definition}

\begin{definition}[Tensor product of \Ainf -functors]
The \emph{tensor product} of two $\mathrm{A}_\infty$-functors $f:\cat{A}_1 \rightsquigarrow \cat{B}_1$ and $g:\cat{A}_2 \rightsquigarrow \cat{B}_2$ is denoted $f\otimes_\infty g$ and given by 
\begin{itemize}[leftmargin=*]
\item the function $\mathrm{Ob}(f\otimes g)\coloneqq \mathrm{Ob}(f)\times \mathrm{Ob}(g) : \mathrm{Ob}(\cat{A}\otimes\cat{B}) \to \mathrm{Ob}(\cat{A}'\otimes\cat{B}')$,
\item by defining the operations $f_n$ as in \cref{prop:diagonal-polytopale-m-infini}.
\end{itemize}
\end{definition}

The category $H_*(\cat{A})$ associated to an \Ainf -category $\cat{A}$ does not necessarily have identity morphisms. As explained in \cite[Section 1.2]{Seidel08}, there exist three notions of \Ainf -category with identity morphisms : \textit{strictly unital \Ainf -category}, \textit{cohomologically unital \Ainf -category} and \textit{homotopy unital \Ainf -category}. 
A \textit{strictly unital} \Ainf -category is simply an \Ainf -category together with an element $e_X \in \cat{A} (X ,X )$ for every $X \in \mathrm{Ob}(\cat{A})$ such that \begin{align*}
m_2 (e , \cdot ) = m_2 (\cdot , e ) &= \ide \ , \\
m_n ( \cdots , e , \cdots ) &= 0 \text { for } n \geq 3 \ .
\end{align*} 
A \textit{cohomologically unital} \Ainf -category is an \Ainf -category $\cat{A}$ which is such that $H_*(A)$ has identity morphisms.
A \textit{homotopy unital} \Ainf -category is finally defined to be an \Ainf -category together with elements $e_X \in \cat{A} (X ,X )$ and endowed with additional operations encoding the fact that the previous relations on the $m_n$ and the $e_X$ are satisfied only up to homotopy.
We moreover have in particular that,
\[  \text{unital} \Rightarrow \text{homotopy unital} \Rightarrow \text{cohomologically unital} \ . \]

If $\cat{A}$ and $\cat{B}$ are cohomologically unital \Ainf -categories, the \Ainf -category $\cat{A} \otimes_\infty \cat{B}$ is again cohomologically unital. 
If $\cat{A}$ and $\cat{B}$ are unital \Ainf -categories, the \Ainf -category $\cat{A} \otimes_\infty \cat{B}$ is also again unital, with identity morphisms $e_X \otimes e_Y$ for  $X \in \mathrm{Ob}(\cat{A})$ and $Y \in \mathrm{Ob}(\cat{B})$.
If $\cat{A}$ and $\cat{B}$ are homotopy unital \Ainf -categories, we however have to define the additional operations associated to the fact that the elements $e_X \otimes e_Y$ are identity morphisms up to homotopy for the \Ainf -category $\cat{A} \otimes_\infty \cat{B}$. In other words, we have to define a diagonal on the operad \uAinf encoding homotopy unital \Ainf -algebras, which has not been done yet to the authors knowledge. An idea would be to define a diagonal on the unital associahedra, which are CW-complexes constructed by Muro and Tonks in \cite{MuroTonks} and which form an operad whose image under the cellular chains is the operad \uAinf . However, not all unital associahedra are polytopes, meaning that the techniques of \cite{MTTV19} cannot be applied to them. \rouge{Certainement trop long}

\subsection{Homotopy properties of diagonals on \Ainf\ and \Minf}

Now that we have explained how to define tensor products of \Ainf -algebras and \Ainf -morphisms, we would like to know whether they endow the category \Aalg\ with the structure of a \textit{symmetric monoidal category}. We explain in the following subsections how the axioms for a symmetric monoidal category translate in the language of diagonals on the 2-colored operad $\Ainfdeux$ and discuss in the last subsection why these tensor products should define a \textit{homotopy symmetric monoidal} category structure on \Aalg .

\subsubsection{The 2-colored viewpoint}

The operad \Ainf\ together with the operadic bimodule \Minf\ define the quasi-free 2-colored operad 
\[ A_\infty^2 := \mathcal{F} (\arbreopdeuxcol{red} , \arbreoptroiscol{red} , \arbreopquatrecol{red}, \cdots, \arbreopdeuxcol{blue} , \arbreoptroiscol{blue} , \arbreopquatrecol{blue} , \cdots, \arbreopunmorph , \arbreopdeuxmorph , \arbreoptroismorph , \arbreopquatremorph , \cdots ) \ , \]
whose differential is given by the equations of \cref{def:ainf-alg} and \cref{def:ainf-morph}.
We refer to \cite{yau-colored} for a complete definition of a 2-colored operad.
The data of two \Ainf -algebras structures on dg-modules $A$ and $B$ together with an \Ainf -morphism can then be defined as a morphism of 2-colored operads
\[ \Ainfdeux \longrightarrow \End ( A ; B) \ , \]
where $\End ( A ; B)$ is the \textit{endomorphism 2-colored operad} naturally associated to $A$ and $B$.

The data of a diagonal on the operad \Ainf\ and of a diagonal on the operadic bimodule \Minf\ is equivalent to the datum of a morphism of 2-colored operads 
\[ \Ainfdeux \longrightarrow \Ainfdeux \otimes \Ainfdeux \ . \]
The composition of \Ainf -morphisms is finally defined by a morphism of 2-colored operads 
\[ \Ainfdeux \longrightarrow \Ainfdeux \circ_{\Ainf} \Ainfdeux \ , \]
where \Ainfdeux\ and $\Ainfdeux \circ_{\Ainf} \Ainfdeux$ have colors $A$ and $C$, and $\Ainfdeux \circ_{\Ainf} \Ainfdeux$ is defined as the coequalizer
\[ \begin{tikzcd}
\Ainfdeux \circ \Ainf \circ \Ainfdeux \ar[r,shift left=.75ex,"\ide \circ \lambda"] \ar[r,shift right=.75ex,swap,"\mu \circ \ide"] & \Ainfdeux \circ \Ainfdeux \ ,
\end{tikzcd} \]
where the left factor \Ainfdeux\ has colors $A$ and $B$, the operad \Ainf\ is seen as a 1-colored operad with color $B$, and the right factor \Ainfdeux\ has colors $B$ and $C$.


\subsubsection{Coassociativity and cocommutativity} \label{sss:coassoc-cocomm}

First, we would like to know whether given three \Ainf -algebras $A$, $B$ and $C$, the two \Ainf -algebra structures $( A \otimes_\infty B) \otimes_\infty C$ and $A \otimes_\infty ( B \otimes_\infty C)$ on the dg-module $A \otimes B \otimes C$ are the same. In operadic terms, this amounts to ask if the diagonal \diagainf\ on \Ainf\ is coassociative or not. 

\begin{proposition}[{\cite[Theorem 13]{MarklShnider06}}] \label{prop:pas-coassoc}
  \label{prop:nocoassoc}
  A diagonal $\triangle$ on the operad \Ainf\ is never coassociative.  
\end{proposition} 

This proposition implies that a diagonal on the 2-colored operad \Ainfdeux\ can in particular never be coassociative.
In the case of \diagainf\ and \diagminf\ we compute in particular that
  \begin{align*}
      &\left( (\ide \otimes \diagainf ) \diagainf - (\diagainf \otimes \ide) \diagainf \right) \left( \black{ \bullet \bullet \bullet \bullet } \right)  \\
      = \  &\partial \left( \black{ \bullet \black{ \bullet \bullet \bullet } } \otimes \black{ \bullet \black{ \bullet \bullet } \bullet } \otimes \black{ \black{ \bullet \bullet \bullet } \bullet }  \right) \ ,
  \end{align*}
and that 
\begin{align*}
      &\left( (\ide \otimes \diagminf ) \diagminf - (\diagminf \otimes \ide) \diagminf \right) \left( \purple{\bullet \bullet \bullet} \right)  \\
      = \ &\partial \left(
  \purple{\blue{\bullet \bullet} \bullet} \otimes \red{\purple{\bullet \bullet} \bullet} \otimes \red{\bullet \bullet \bullet}
  + \blue{\bullet \bullet \bullet} \otimes \purple{ \bullet \blue{\bullet \bullet}} \otimes \red{\bullet \purple{\bullet \bullet}}
  \right) \ .
\end{align*} 
  
Given $A$ and $B$ two \Ainf -algebras, we would also like to know whether the \Ainf -algebra structure $B \otimes_\infty A$ on $B \otimes A$ can simply be obtained from the maps defining the \Ainf -algebra structure $A \otimes_\infty B$ on $A \otimes B$ \[ m_n^{A \otimes_\infty B} : ( A \otimes B)^{\otimes n} \rightarrow A \otimes B \] by rearranging $(A \otimes B)^{\otimes n}$ into $(B \otimes A)^{\otimes n}$ and $A \otimes B$ into $B \otimes A$. In operadic terms, this amounts to ask if the diagonal \diagainf\ on \Ainf\ is cocommutative or not. The diagonal \diagainf\ is not cocommutative, as 
\[ \left( \diagainf - \tau \diagainf \right) \left( \black{ \bullet \bullet \bullet } \right) = \partial \left( \black{ \bullet \bullet \bullet } \otimes \black{ \bullet \bullet \bullet } \right) \ , \]
where $\tau$ acts by the permutation $(1 \ 2)$ on the operad $\Ainf \otimes \Ainf$.
In the case of the tensor product of \Ainf -morphisms, we also have that
\[ \left( \diagminf - \tau \diagminf \right) \left( \purple{\bullet \bullet} \right) = \partial \left( \purple{\bullet \bullet} \otimes \purple{\bullet \bullet} \right) \ . \]
We however do not prove a counterpart of \cref{prop:pas-coassoc} in general.
 
\subsubsection{Compatibility with the composition} \label{sss:comp-composition}

We would finally like to know whether the tensor product is functorial with respect to the composition of \Ainf -morphisms. In other words, if given \Ainf -morphisms $f_1 : A_1 \rightsquigarrow B_1$, 
$g_1 : B_1 \rightsquigarrow C_1$, $f_2 : A_2 \rightsquigarrow B_2$ and
$g_2 : B_2 \rightsquigarrow C_2$ they satisfy the following equality
\[ ( g_1 \otimes f_1) \circ (g_2 \otimes f_2) = (g_1 \otimes g_2) \circ (f_1 \otimes f_2) \ . \]
In operadic terms, this amounts to ask if the diagonal \diagminf\ on \Minf\ together with the composition morphism \comp\ of subsection \ref{sss:operad-ainf-operadic-bimod-minf} satisfy the following equality 
\[ ( \comp \otimes \comp ) \diagminf = (\diagminf \circ_{\Ainf} \diagminf ) \comp   \ . \]

\begin{theorem} 
  \label{thm:nofunctorial}
  A diagonal $\triangle$ on the operadic bimodule \Minf\ is never compatible with the composition of \Ainf -morphisms.  
\end{theorem}

\begin{proof} 
  Let indeed $\triangle$ be a diagonal $\Minf \rightarrow \Minf \otimes \Minf$.
  Compatibility with the differential implies that $\triangle$ is necessarily of the form
  \[
      \triangle(\purple{\bullet }) = \purple{\bullet } \otimes \purple{\bullet } \]
and
\[ \begin{matrix}
      \triangle (\purple{\bullet \bullet }) &= &\alpha (\blue{\bullet \bullet }\otimes \purple{\bullet \bullet } + \purple{\bullet \bullet }\otimes\red{\bullet \bullet }) \\ & &+ \ (1-\alpha)(\red{\bullet \bullet }\otimes \purple{\bullet \bullet }+\purple{\bullet \bullet}\otimes \blue{\bullet \bullet}) \ ,
  \end{matrix} \]
  where $\alpha \in \mathbb{Z}$.
  We compute that if the equality
  \[ ( \comp \otimes \comp ) \triangle ( \purple{\bullet \bullet} ) = (\triangle \circ_{\Ainf} \triangle ) \comp  ( \purple{\bullet \bullet} ) \]
  holds, we necessarily have that $\alpha = 0$ and that $\alpha =1$, which is not possible.
\end{proof}

\noindent In the case of the diagonals \diagainf\ and \diagminf , we compute in particular that 
  \[ \left( \comp  \circ \diagminf - (\diagminf \circ_{\Ainf} \diagminf ) \circ \comp \right) \left( \arbreopdeuxmorph  \right) = \partial \left( \arbreopcompun \otimes \arbreopcompdeux \right)  \ , \]
where we choose to write the formulae with trees and not nestings, as we did not introduce the definition of a 3-colored nesting of a linear graph in this paper.

\subsubsection{Homotopy properties}

While coassociativity, cocommutativity and compatibility with the composition are not satisfied on the nose by the diagonals \diagainf\ and \diagminf , we will now prove that a diagonal on the 2-colored operad \Ainfdeux\ always satisfies these properties up to homotopy.

We begin by recalling the notion of homotopy between morphisms of 2-colored operads as defined in \cite[Section 3.10]{MSS}. Introduce $\mathbb{Z}[t,dt]$ to be the dg-commutative algebra generated by $t$ and $dt$, where $|t|=0$, $|dt|=-1$, and whose differential is defined as $\partial (t) = dt$ and $\partial (dt) = 0$. An element of $\mathbb{Z}[t,dt]$ writes uniquely as a sum $p(t)+q(t)dt$ where $p(t)$ and $q(t)$ are polynomials in $t$. For $i=0,1$, define $ev_i : \mathbb{Z}[t,dt] \rightarrow \mathbb{Z}$ to be the morphism of dg-commutative algebras given by $ev_i ( p(t) + q(t)dt ) = p(i)$.
Let now $P$ and $Q$ be two (2-colored) dg-operads and $\alpha , \beta : P \rightarrow Q$ be two morphisms of (2-colored) dg-operads.
An \textit{elementary homotopy} between $\alpha$ and $\beta$ is defined to a morphism of (2-colored) operads $h : P \rightarrow \mathbb{Z}[t,dt] \otimes Q$ such that $\alpha = ev_0 h$ and $\beta = ev_1 h$.
Two morphisms of operads $\alpha$ and $\beta$ are then said to be \textit{homotopic} if there exists a sequence of elementary homotopies connecting $P$ and $Q$
\[ P = P_0 \rightarrow P_1 \rightarrow \cdots \rightarrow P_n = Q \ . \]

\begin{theorem} \label{th:homotopy-properties}
Let $\triangle$ be a diagonal on the 2-colored operad \Ainfdeux . 
\begin{enumerate}
    \item The morphisms of operads $(\triangle \otimes \ide ) \triangle)$ and $(\ide \otimes \triangle) \triangle)$ are homotopic. In other words, a diagonal on \Ainfdeux\ is always coassociative up to homotopy.
    \item The morphisms of operads $\triangle$ and $\tau \triangle$ are homotopic. In other words, a diagonal on \Ainfdeux\ is always cocommutative up to homotopy.
    \item The morphisms of operads $\comp  \circ \diagminf$ and $( \diagminf \circ_{\Ainf} \diagminf ) \circ \comp$ are homotopic. In other words, a diagonal on \Ainfdeux\ is always compatible with the composition of \Ainf -morphisms up to homotopy.
\end{enumerate}
\end{theorem}

\begin{proof}
The proof of this theorem is a simple adaptation of the results of \cite[Section 2]{MarklShnider06} in the context of 2-colored operads, applied to the minimal model \Ainfdeux\ for the 2-colored dg-operad $As^2$ encoding dg-algebras together with morphisms of dg-algebras.
\end{proof}

\subsubsection{The homotopy monoidal category structure on the category \Aalg\ ?} 

As explained in the introduction of this section, we would like to know whether the diagonals \diagainf\ and \diagminf\ endow the category \Aalg\ with a symmetric monoidal category structure, where $\mathbb{Z}$ is taken to be the identity object. More precisely, we have to prove that there exist functorial isomorphisms $\alpha_{A,B,C} : A \otimes_\infty ( B \otimes_\infty C) \rightarrow (A \otimes_\infty B) \otimes_\infty C$ and $\tau_{A,B} : A \otimes_\infty B \rightarrow B \otimes_\infty A$ that fit into the usual diagrams for a monoidal category, and that this tensor product is functorial i.e. that given \Ainf -morphisms $f_i : A_i \rightsquigarrow B_i$ and $g_i : B_i \rightsquigarrow C_i$ for $i=1,2$, the following identity is satisfied 
\[ (g_1 \circ f_1) \otimes_\infty (g_2 \circ f_2) = (g_1 \otimes_\infty g_2) \circ (f_1 \otimes_\infty f_2) \ . \]
We refer to \cite{MacLane98} for the complete definition of a symmetric monoidal category structure.

As proven in \cref{thm:nofunctorial}, a tensor product defined by a diagonal on \Minf\ can never be functorial. It is thus impossible to endow the category $\mathtt{\Ainf -alg}$ with a symmetric monoidal category structure from the perspective of diagonals.
Following \cite{fukaya-cyclic-symmetry} and \cite{MarklShnider06}, \cref{th:homotopy-properties} implies however that there exists a quasi-isotopy between the \Ainf -algebras $A \otimes_\infty ( B \otimes_\infty C)$ and $(A \otimes_\infty B) \otimes_\infty C$ whose underlying dg-module is $A \otimes B \otimes C$, hence that there exists an \Ainf -quasi-isomorphism between them.  In a similar fashion, we have that $A \otimes_\infty B \simeq B \otimes_\infty A$.
It is however unclear why these collections of quasi-isomorphisms (and not isomorphisms !) should fit into natural transformations $\alpha$ and $\tau$ satisfying the relations for the associator and the symmetry of a symmetric monoidal category structure on $\mathtt{\Ainf -alg}$. 

In the light of the results of \cref{th:homotopy-properties}, we plan to inspect in a future work in which sense the diagonals \diagainf\ and \diagminf\ endow $\mathtt{\Ainf -alg}$ with a \textit{homotopy monoidal} category structure. It is not yet clear to us which explicit model for such a category one would have to choose. See for instance \cite[Definition A.5.2]{Pascaleff18} for the notion of a monoidal $\infty$-category. As a first step towards solving that problem, we will inspect in an upcoming paper which higher coherent homotopies arise from the lack of associativity of $\triangle^{K_n}$ and $\triangle^{J_n}$ on the level of polytopes, and how to understand the boundary relations given in subsection \ref{sss:coassoc-cocomm} and \ref{sss:comp-composition}.
We point out that such a homotopy monoidal category structure on $\mathtt{\Ainf -alg}$ could then be easily adapted to define a homotopy monoidal category structure on the category of \Ainf -categories with \Ainf -functors.

\rouge{A third idea is to see $\Ainf$-algebras as particular instances of a more general structure, where the preceding tensor product extends to a symmetric monoidal one.  
One can see \cref{prop:nocoassoc} as saying that the operad $\Ainf$ cannot be an operad in coassociative coalgebras. 
It is then tempting to ask if $\Ainf$ could be an operad in $\Ainf$-coalgebras; however, this cannot be since (by \cref{prop:nocoassoc}) there is no symmetric monoidal structure on the category of $\Ainf$-coalgebras.
One could then consider the category of $\AAinf$-algebras, that is algebras over the bar-cobar resolution (also called $W$-construction, or Boardman--Vogt resolution) of the associative operad, which is symmetric monoidal with respect to the tensor product defined by J.-P. Serre's cubical diagonal. 
Alternatively, S. Arkhipov and D. Poliakova propose in \cite{PoliakovaArkhipov21} the category of integrated $\Ainf$-coalgebras, which is also symmetric monoidal, as an appropriate setting to study the operad $\Ainf$.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Further applications} \label{sec:furtherdirections}

\rouge{A écrire à la fin}

\subsection{Convolution \Ainf -algebra}

\subsubsection{Retractions and diagonals}

Recall that the operad \Ainf\ can be equivalently defined as the operad $\Ainf := \Omega As^{\text{!`}}$. 
The theory of Koszul duality implies that it provides an alternative cofibrant replacement $\Ainf \rightarrow As$ to the universal cofibrant replacement $\ombas \rightarrow As$. 
Following \cite[Section 9.3]{LodayVallette12}, the operad \ombas\ can in fact be defined as the quasi-free operad 
\[ \ombas := \mathcal{F} (\premiertermecobarbarA , \premiertermecobarbarD , \premiertermecobarbarB , \premiertermecobarbarC , \cdots , \mathrm{PT_n}, \cdots ) \ , \] 
where $\mathrm{PT_n}$ is the set of planar rooted trees of arity $n$ and the degree of a tree is defined as the number of its internal edges.
See also \cite{Mazuir21} for a complete definition of the operad \ombas . 
As proven in \cite{MarklShnider06} and \cite{Mazuir21} there exists in fact an elementary morphism of operads $\Ainf \rightarrow \ombas$. The problem of the construction of a morphism of operads $\ombas \rightarrow \Ainf$ is more complicated and is the object of the following proposition. We will call such a morphism a \textit{retraction} of \ombas\ onto \Ainf .

\begin{proposition}\label{prop:retract}
The datum of a diagonal on the operad \Ainf\ is equivalent to the datum of a morphism of dg-operads $\ombas \rightarrow \Ainf$ sending $\arbreopdeux$ to $\arbreopdeux$.
\end{proposition}

\begin{proof}
\rouge{voir avec Bruno}
\end{proof}

\cref{prop:retract} clarifies in particular the construction of the diagonal on the operad \Ainf\ in \cite{MarklShnider06}. 
The operad \ombas\ can indeed be seen as the cellular chains on the cubical realization of the associahedra (\cite{} BV, BM03a, LV, Maz1). 
It comes with an elementary diagonal $\ombas \rightarrow \ombas \otimes \ombas$ defined using the Serre cubical diagonal of \cite{Serre51}.
Markl and Shnider then define a retraction $\ombas \rightarrow \Ainf$ and deduce a diagonal on the operad \Ainf\ as 
\[ \Ainf \longrightarrow \ombas \longrightarrow \ombas \otimes \ombas \longrightarrow \Ainf \otimes \Ainf \ , \]
where the last arrow is the Hadamard product of two copies of the retraction $\ombas \rightarrow \Ainf$. 
Under the equivalence of \cref{prop:retract}, their choice of retraction corresponds exactly to the diagonal constructed directly on the level of the associahedra in \cite{MTTV19}.
A similar proof would however not adapt to the case of the multiplihedra, as they are not simple hence do not admit a cubical realization.

\subsubsection{Convolution algebra}

Let $A$ be a dg-algebra and $C$ be a dg-coalgebra. 
Consider $\Hom (C,A)$ to be the dg-module of chain maps $C \rightarrow A$ whose elements of degree $i$ are the chain maps of degree $i$ and whose differential is defined by 
\[ \partial (f) := [ \partial , f ] = \partial_A f - (-1)^{|f|} f \partial_C \ . \]
For $f$ and $g$ two chain maps $C \rightarrow A$ define their \emph{convolution product}
\[ f \star g := \mu_A \circ ( f \otimes g) \circ \Delta_C \ . \]
The map $\star : \Hom (C,A) \otimes \Hom (C,A) \rightarrow \Hom (C,A)$ is then a chain map which is moreover coassociative.

\begin{definition}
Let $A$ be a dg-algebra and $C$ a dg-coalgebra. The \emph{convolution algebra of $C$ and $A$} is defined to be the dg-algebra $(\Hom (C,A) , [ \partial , \cdot ] , \star)$.
\end{definition}

A Maurer-Cartan element $\alpha$ of $\Hom (C,A)$, i.e. a map $\alpha : C \rightarrow A$ such that 
\[ [ \partial , \alpha ] + \alpha \star \alpha  = 0 \ , \]
will be called a \emph{twisting morphism}. Twisting morphisms define twisted differentials on the tensor product $C \otimes A$
\[ \partial_\alpha := \partial_{C \otimes A} + (\ide \otimes \mu_A ) ( \ide \otimes \alpha \otimes \ide ) ( \Delta_C \otimes \ide ) \ . \]
These differentials appear in the computation of the singular homology of fiber spaces in \cite{Brown59}. 
Given a fibration $F \rightarrow X \rightarrow B$ \rouge{satisfying some mild assumptions}, the singular homology of $X$ can then be computed as the homology of the tensor product $C_*(B) \otimes C_*(F)$ endowed with a twisted differential, where $C_*(F)$ is seen as a dg-module over the dg-algebra $C_*(\Omega B)$.

Let now $A_1$ and $A_2$ be dg-algebras, $C_1$ and $C_2$ be dg-coalgebras and $f : A_1 \rightarrow A_2$ and $g : C_2 \rightarrow C_1$ respectively be morphisms of dg-algebras and dg-coalgebras.
The map
\[ h \in \Hom (C_1 , A_1) \longmapsto f \circ h \circ g \in \Hom (C_2,A_2) \]
can then be proven to be a morphism of dg-algebras.

\begin{proposition}
The previous construction yields a bifunctor $\mathsf{(dg-cog)^{op}} \times \mathsf{dg-alg} \rightarrow \mathsf{dg-alg}$ defined on objects as $(C,A) \mapsto \Hom (C,A)$.
\end{proposition}

\subsubsection{Convolution \Ainf -algebra}

We now show how to extend the convolution algebra construction when $C$ is an \Ainf -coalgebra and $A$ is an \Ainf -algebra.

\begin{definition}[$\mathrm{A}_\infty$-coalgebra] \label{def:ainf-coalg} An \emph{$\mathrm{A}_\infty$-coalgebra} is the data of a dg-module $(C,\partial)$ together with operations \[ \Delta_n : A \to A^{\otimes n} \ , \ n \geq 2 \] of degree $|c_n|=n-2$, satisfying the equations 
\[ [ \partial , \Delta_n ] = - \sum_{\substack{p+q+r=n \\ 2 \leq q \leq n-1}} (-1)^{p+qr}(\id^{\otimes p} \otimes \Delta_q \otimes \id^{\otimes r})\Delta_{p+1+r} \ , \ n\geq 2 \ . \]
\end{definition}

\noindent The notion of an \Ainf -morphism between \Ainf -coalgebras is defined in a similar fashion.

\begin{proposition} \label{prop:convolution-ainf}
Let $C$ be an \Ainf -coalgebra and $A$ be an \Ainf -algebra. A diagonal $\triangle$ on the operad \Ainf\ defines an \Ainf -algebra structure on the dg-module $(\Hom (C,A) , [ \partial , \cdot ])$. We call this \Ainf -algebra the \emph{convolution \Ainf -algebra of $C$ and $A$} defined by the diagonal $\triangle$.
\end{proposition}

\begin{proof} 
\rouge{A discuter avec Bruno, mais faire court}
\end{proof}

\begin{proposition} \label{prop:convolution-minf}
Let $f : A_1 \rightsquigarrow A_2$ be an \Ainf -morphism between two \Ainf -algebras $A_1$ and $A_2$ and $g : C_2 \rightsquigarrow C_1$ be an \Ainf -morphism between \Ainf -coalgebras $C_2$ and $C_1$. A diagonal $\triangle$ on the operad \Minf\ defines an \Ainf -morphism between the convolution \Ainf -algebras $\Hom (C_1,A_1)$ and $\Hom (C_2,A_2)$. 
\end{proposition}

\begin{proof}
The proof is similar to the proof of \cref{prop:convolution-ainf}. We moreover point out that \cref{thm:nofunctorial} implies that the constructions of \cref{prop:convolution-ainf} and \cref{prop:convolution-minf} cannot fit into a bifunctor $\mathsf{(\Ainf -cog)^{op}} \times \Aalg \rightarrow \Aalg$.
\end{proof}

\cref{prop:convolution-ainf} implies in particular that when $C$ is an \Ainf -coalgebra and $A$ an \Ainf -algebra, one can still define \textit{twisting cochains} $\alpha : C \rightarrow A$ as Maurer-Cartan elements of the \Ainf -algebra $\Hom (C,A)$. 
\cref{prop:convolution-minf} then implies that the \Ainf -morphism $\Hom (C_1,A_1) \rightarrow \Hom (C_2,A_2)$, defined by the \Ainf -morphism $f : A_1 \rightsquigarrow A_2$ and $g : C_2 \rightsquigarrow C_1$, sends twisting cochains $C_1 \rightarrow A_1$ to twisting cochains $C_2 \rightarrow A_2$.
Following \cite[Section 5.5]{Proute86}, this result should have direct applications to the computations of the homology of fiber spaces $H_*(X)$, using the homologies of the base space $H_*(B)$ and of the fiber $H_*(F)$ (whereas the chain complexes $C_*(B)$ and $C_*(F)$ were used in \cite{Brown59}). This idea is a work under progress and will be adressed in an upcoming paper.

\subsection{Diagonals in symplectic topology}

\subsubsection{K\"unneth theorems in Lagrangian Floer theory}

Let $(M,\omega)$ be a closed symplectic manifold, i.e. a closed manifold $M$ together with a closed non-degenerate 2-form $\omega$ on $M$. 
The \emph{Fukaya category} $\mathrm{Fuk}(M,\omega)$ of $(M,\omega)$  is defined to be the (curved filtered unital) \Ainf -category whose objects are (unobstructed) Lagrangian submanifolds of $M$ and higher compositions are defined by counting pseudo-holomorphic disks with Lagrangian boundary conditions and marked points on their boundary, as represented in Figure \ref{fig:pseudo-hol-disk-bord-lagrang}. 
We refer for instance to~\cite{smith-prolegomenon}~and~\cite{auroux-fukaya} for introductions to the subject.
Given a closed spin Lagrangian submanifold $L \subset M$, Fukaya also constructs in \cite{fukaya-cyclic-symmetry} a strictly unital \Ainf -algebra $\mathcal{F}(L)$ associated to the Lagrangian $L$ whose higher multiplications are again defined by counting pseudo-holomorphic disks, called the \emph{Fukaya algebra of $L$}. 

\begin{figure}[h]
\centering

\begin{subfigure}{0.4\textwidth}
\centering

\begin{tikzpicture}[scale = 0.5]

\draw (0,0) circle (3) ; 

\draw (360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (3*360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (9*360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (7*360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (270 : 3) node[scale = 0.1]{\pointbullet};

\draw (360/20 : 3) node[right,scale=0.7]{$x_n$};
\draw (3*360/20 : 3) node[above=3pt,scale=0.7]{$x_{n-1}$};
\draw (9*360/20 : 3) node[left,scale=0.7]{$x_1$};
\draw (7*360/20 : 3) node[above=3pt,scale=0.7]{$x_2$};
\draw (270 : 3) node[below=3pt,scale=0.7]{$y$};

\draw (2*360/20 : 3) node[above right,scale=0.8]{$L_{n-1}$};
\draw (8*360/20 : 3) node[above left,scale=0.8]{$L_1$};
\draw (11.5*360/20 : 3) node[below left,scale=0.8]{$L_0$};
\draw (18.5*360/20 : 3) node[below right,scale=0.8]{$L_n$};

\draw[densely dotted] (0,3.3) arc (90:108:3.3) ;
\draw[densely dotted] (0,3.3) arc (90:72:3.3) ;

\node at (0,0) {$M$} ;

\end{tikzpicture}

\end{subfigure}
\begin{subfigure}{0.4\textwidth}
\centering

\begin{tikzpicture}[scale = 0.5]

\draw[fill,blue!50] (0,0) circle (3) ;
\draw (0,0) circle (3) ;

\draw (360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (3*360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (9*360/20 : 3) node[scale = 0.1]{\pointbullet};
\draw (7*360/20 : 3) node[scale = 0.1]{\pointbullet};

\draw (360/20 : 3) node[right,scale=0.7]{$x_n$};
\draw (3*360/20 : 3) node[above=3pt,scale=0.7]{$x_{n-1}$};
\draw (9*360/20 : 3) node[left,scale=0.7]{$x_1$};
\draw (7*360/20 : 3) node[above=3pt,scale=0.7]{$x_2$};
\draw (270 : 3) node[below=3pt,scale=0.7]{$y$};

\draw (2*360/20 : 3) node[above right,scale=0.8]{$L_{n-1}$};
\draw (8*360/20 : 3) node[above left,scale=0.8]{$L_1$};
\draw (11.5*360/20 : 3) node[below left,scale=0.8]{$L_0$};
\draw (18.5*360/20 : 3) node[below right,scale=0.8]{$L_n$};

\draw[densely dotted] (0,3.3) arc (90:108:3.3) ;
\draw[densely dotted] (0,3.3) arc (90:72:3.3) ;

\node at (0,2) {$M_0$} ;

\draw[fill,red!50] (0,-1) circle (2) ;
\draw (0,-1) circle (2) ;

\node at (0,-1) {$M_1$} ;

\draw (30 : 2) + (0,-1) node[xshift=-0.3cm,scale=0.8]{$\mathcal{L}_{01}$};

\draw (270 : 3) node[scale = 0.1]{\pointbullet};

\end{tikzpicture}

\end{subfigure}

\caption{On the left, a pseudo-holomorphic disk defining the \Ainf -category structure on $\mathrm{Fuk}(M)$. On the right, a pseudo-holomorphic quilted disk defining an \Ainf -functor $\mathrm{Fuk}(M_0)\rightsquigarrow\mathrm{Fuk}(M_1)$} \label{fig:pseudo-hol-disk-bord-lagrang}
\end{figure}

In \cite{amorim-lagrangian}, Amorim shows that given two symplectic manifolds $M_1$ and $M_2$ together with Lagrangians $L_i \subset M_i$, the Fukaya algebra of the product Lagrangian $L_1 \times L_2$ is quasi-isomorphic to the tensor product of their Fukaya algebras, i.e. $\mathcal{F}(L_1 \times L_2) \simeq \mathcal{F}(L_1) \otimes_\infty \mathcal{F}(L_2)$. His proof relies on a theorem that he proves in~\cite{amorim-tensor}, giving a criterion for an \Ainf -algebra $C$ to be quasi-isomorphic to the tensor product $A \otimes_\infty B$ (see \cref{def:tensor-product-ainf-alg}) of two commuting \Ainf -subalgebras $A \subset C$ and $B \subset C$, which he then applies to the two \Ainf -subalgebras $\mathcal{F}(L_1) \subset \mathcal{F}(L_1 \times L_2)$ and $\mathcal{F}(L_2) \subset \mathcal{F}(L_1 \times L_2)$.
Fukaya generalizes this result in \cite{fukaya-unobstructed}, working this time on the level of Fukaya categories. He proves that for two closed symplectic manifolds $M_0$ and $M_1$ there exists a unital \Ainf -functor
\[ \mathrm{Fuk}(M_0) \otimes \mathrm{Fuk}(M_1) \longrightarrow \mathrm{Fuk}(M_0^- \times M_1) \]
which is a homotopy equivalence to its image. 

Let now $M_0$ and $M_1$ be two compact symplectic manifolds. Define a \emph{Lagrangian correspondences} from $M_0$ to $M_1$ to be a Lagrangian submanifold $\mathcal{L} \subset M_0^{-} \times M_1$.
In \cite{mau-wehrheim-woodward}, Mau, Wehrheim and Woodward associate to a Lagrangian correspondence $\mathcal{L}$ (with additional technical assumptions) an \Ainf -functor $\phi_{\mathcal{L}} : \mathrm{Fuk}(M_0) \rightsquigarrow \mathrm{Fuk}(M_1)$.  
It is defined on objects as 
\[ \phi_{\mathcal{L}} (L_0) := \pi_{M_1} ( L_0 \times_{M_0} \mathcal{L} ) \ , \]
where $\pi_{M_1}$ denotes the projection $M_0 \times M_0^{-} \times M_1 \rightarrow M_1$ and $\times_{M_0}$ is the fiber product over $M_0$. The operations of $\phi_{\mathcal{L}}$ are defined by counting pseudo-holomorphic quilted disks with Lagrangian boundary conditions, seam condition on $\mathcal{L}$ and marked points on their boundary, as represented in Figure \ref{fig:pseudo-hol-disk-bord-lagrang}. 

Drawing from the results of Amorim and Fukaya, it would in particular be interesting to know whether and in which sense the following diagram commutes up to homotopy
\begin{center} 
\begin{tikzcd}[column sep = large]
\mathrm{Fuk}(M_0) \otimes_\infty \mathrm{Fuk}(N_0) \arrow[d,squiggly] \arrow[r,"\phi_{\mathcal{L}_M} \otimes_\infty \phi_{\mathcal{L}_N}",squiggly] & \mathrm{Fuk}(M_1) \otimes_\infty \mathrm{Fuk}(N_1) \arrow[d,squiggly] \\
 \mathrm{Fuk}(M_0 \times N_0) \arrow[r,below,"\phi_{\tau ( \mathcal{L}_M \times \mathcal{L}_N)}",squiggly] & \mathrm{Fuk}(M_1 \times N_1)
\end{tikzcd}
\end{center}
Here $\mathcal{L}_M \subset M_0^{-} \times M_1$ and $\mathcal{L}_N \subset N_0^- \times N_1$, $\tau$ is the symplectomorphism rearranging the factors of $M_0^{-} \times M_1 \times N_0^- \times N_1$ into the factors of $M_0^{-} \times N_0^- \times M_1 \times N_1$.

\subsubsection{The work of Lipshitz, {Oszv\'ath} and Thurston}

In \cite{LOT20}, Lipshitz, Oszv\'ath and Thurston also study diagonals on the operad \Ainf\ and on the operadic bimodule \Minf . They however work exclusively on the dg-level, constructing abstract diagonals by using the fact that \Ainf\ and \Minf\ are contractible. The goal of their work is to study bordered Heegaard Floer homology of 3-manifolds.
Given a 3-manifold $Y$ with two boundary components, they are working to construct a \emph{bimodule twisted complex} $CFDD^-(Y)$, also called a \emph{type $DD$-bimodule}. The definition of such an object uses a diagonal on \Ainf . A diagonal on \Minf\ is then needed in order to relate the categories of bimodules defined with different diagonals on \Ainf , which in turn is needed for properties like associativity of tensor products. They also expect that diagonals on \Minf\ could be needed in a distant future to define \Ainf -morphisms between bimodule twisted complexes arising from a cobordism between two 3-manifolds $Y_1$ and $Y_2$.

The previous paragraph is drawn from a private communication with Robert Lipshitz and remains very vague as their work on Heegaard Floer homology relying on \cite{LOT20} is still in progress. We however insist that their construction differs greatly from the one explained in subsection \ref{sss:amorim-fukaya}. Amorim and Fukaya use a diagonal on \Ainf\ in order to respectively prove a K\"unneth theorem for Fukaya algebras and Fukaya categories, while Lipshitz, Oszv\'ath and Thurston resort to diagonals on \Ainf\ and \Minf\ in order to define and study the properties of the bimodule twisted complex $CFDD^-(Y)$. 

\newpage

\bibliographystyle{amsalpha}
\bibliography{bib}

%\bigskip
%\hrule
%\bigskip

%\newpage

%\begin{align*}
%La\TreeLa \\
%& Lb\TreeLb \\
%& Lc\TreeLc \\
%& Ra\TreeRa \\
%& Rb\TreeRb \\
%& Rc\TreeRc \\
%& Lab\TreeLab \\
%& Rab\TreeRab \\
%& Lbc\TreeLbc \\
%& Rbc\TreeRbc \\
%& Ca\TreeCa \\
%& Cb\TreeCb \\
%& Cab\TreeCab \\
%& Iab\TreeIab \\
%\end{align*}


%\begin{align*}
%& R\TreeR \\
%& L\TreeL \\
%& LL\TreeLL \\
%& LR\TreeLR \\
%& RR\TreeRR \\
%& RL\TreeRL \\
%& CC\TreeCC \\
%& AL\TreeAL \\
%& RA\TreeRA \\
%& AR\TreeAR \\
%& LA\TreeLA \\
%& CA\TreeCA \\
%& C\TreeC \\
%\end{align*}






\end{document}
